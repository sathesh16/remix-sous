import{a as Ye,b as we,c as Te}from"/build/_shared/chunk-DAAR2UBC.js";import"/build/_shared/chunk-MZ7CGHKM.js";import{a as Fe}from"/build/_shared/chunk-YAUMQ47I.js";import"/build/_shared/chunk-OV4W7B6E.js";import{a as je}from"/build/_shared/chunk-QPJOCY54.js";import{b as Ie}from"/build/_shared/chunk-USL65MEA.js";import{c as _e,d as Se}from"/build/_shared/chunk-RGLHNRFR.js";import"/build/_shared/chunk-7R5B3IJR.js";import"/build/_shared/chunk-VQXNYB6I.js";import{b as p}from"/build/_shared/chunk-YCQR2KKZ.js";import{c as Le,h as E}from"/build/_shared/chunk-74WNBD7U.js";import{a as Oe}from"/build/_shared/chunk-WA2IKA3N.js";import{a as L,b as ee,d as ge,g as C,i as ae,l as be}from"/build/_shared/chunk-SDPGU3B7.js";import{a as Re}from"/build/_shared/chunk-46CN3765.js";import{j as Ce}from"/build/_shared/chunk-62BE6IG2.js";import{a as he,b as de}from"/build/_shared/chunk-TYFUAS6F.js";import{d as M}from"/build/_shared/chunk-W6WK5VNR.js";var D=M(he());var Pe=M(Ye());var $e=M(je());var ze=M(Re()),pe=M(he());var N=M(he()),Ee=M(_e());var l=M(de());function Be({content:e,IsModalOpen:s,ActivityName:j,date:H,closeHandle:Q,setRefresh:_,refresh:Y,locationId:te,isAdmin:v}){let B="yyyy-MM-dd",[se,y]=(0,N.useState)(s===!0),[G,f]=(0,N.useState)(!1),[k,U]=(0,N.useState)(e!=null&&e.treatment?e==null?void 0:e.treatment:""),[x,P]=(0,N.useState)(e!=null&&e.description?e==null?void 0:e.description:""),[$,ie]=(0,N.useState)(e!=null&&e.price?e==null?void 0:e.price:""),[c,me]=(0,N.useState)(e!=null&&e.price_1?e==null?void 0:e.price_1:""),[O,q]=(0,N.useState)(e!=null&&e.price_2?e==null?void 0:e.price_2:""),[h,I]=(0,N.useState)(e!=null&&e.treatment_1?e==null?void 0:e.treatment_1:""),[u,z]=(0,N.useState)(e!=null&&e.description_1?e==null?void 0:e.description_1:""),[b,g]=(0,N.useState)(e!=null&&e.treatment_2?e==null?void 0:e.treatment_2:""),[n,J]=(0,N.useState)(e!=null&&e.description_2?e==null?void 0:e.description_2:""),[S,Ne]=(0,N.useState)(!1),[re,fe]=(0,N.useState)(!1),le=()=>{y(!1),Q()};N.default.useEffect(()=>{(k==null?void 0:k.length)>100&&U(k==null?void 0:k.substring(0,100)),(x==null?void 0:x.length)>100&&P(x==null?void 0:x.substring(0,100)),(h==null?void 0:h.length)>100&&I(h==null?void 0:h.substring(0,100)),(u==null?void 0:u.length)>100&&z(u==null?void 0:u.substring(0,100)),(b==null?void 0:b.length)>100&&g(b==null?void 0:b.substring(0,100)),(n==null?void 0:n.length)>100&&J(n==null?void 0:n.substring(0,100))},[k,x,h,u,b,n]);let ce=({titleName:F,setTitleName:V,descriptionName:A,setDescriptionName:X,border:Z,priceName:ne,setPriceName:ue})=>(0,l.jsxs)("div",{className:`
        flex py-6 px-2 font-normal min-w-[750px] min-h-[150px] border-1 line-normal left-5 z-10 gap-[15px] text-sm top-12 ${Z?" border-b-2 border-gray-300":""}`,children:[(0,l.jsxs)("div",{className:"title-price grid gap-y-[15px] w-1/2",children:[(0,l.jsxs)("div",{className:"col-span-6",children:[(0,l.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 uppercase",children:"title"}),(0,l.jsxs)("div",{className:"relative spa-title",children:[(0,l.jsx)("textarea",{type:"text",name:"title",id:"title",placeholder:"Enter the title",value:F,onChange:w=>V(w.target.value),className:"resize-none min-h-[80px] mt-1 block w-full rounded-md border border-primary py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"}),(0,l.jsxs)("span",{className:"text-[10px] absolute bottom-0 right-2",children:[F==null?void 0:F.length,"/100"]})]})]}),(0,l.jsxs)("div",{className:"col-span-6 ",children:[(0,l.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 uppercase",children:"Price"}),(0,l.jsxs)("div",{className:"relative mt-1",children:[(0,l.jsx)("input",{type:"number",name:"price",id:"price",placeholder:"Enter the price",value:ne,onChange:w=>ue(w.target.value),className:" block w-full rounded-md border border-primary py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"}),(0,l.jsx)("span",{className:" absolute right-6  bottom-[25%] text-center",children:"kr"})]})]})]}),(0,l.jsx)("div",{className:"desc w-1/2",children:(0,l.jsxs)("div",{className:"col-span-6",children:[(0,l.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 uppercase",children:"Description"}),(0,l.jsxs)("div",{className:"relative spa-title",children:[(0,l.jsx)("textarea",{type:"text",name:"description",id:"description",placeholder:"Enter the description",value:A||"",onChange:w=>X(w.target.value),className:"resize-none min-h-[80px] mt-1 block w-full rounded-md border border-primary py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"}),(0,l.jsxs)("span",{className:"text-[10px] absolute bottom-0 right-2",children:[A==null?void 0:A.length,"/100"]})]})]})})]}),ke=async F=>{var A,X,Z;Ne(!0);let V={activity_type:j,date:C(H,B),location_id:te,treatment:k,price:$||null,description:x?x==null?void 0:x.trim():null,treatment_1:h,price_1:c||null,description_1:u?u==null?void 0:u.trim():null,treatment_2:b,price_2:O||null,description_2:n?n==null?void 0:n.trim():null};k?!(u?((A=u==null?void 0:u.trim())==null?void 0:A.length)>0:c||!1)||!!h?!(n?((X=n==null?void 0:n.trim())==null?void 0:X.length)>0:O||!1)||!!b?(e!=null&&e.id?await E.items("spa").updateOne(e==null?void 0:e.id,V).then(w=>{p.success("Updated successfully"),le(),_(!Y)}).catch(w=>{console.log(w),p.error(w)}):await E.items("spa").createOne(V).then(w=>{p.success(" Created successfully"),le(),_(!Y)}).catch(w=>{console.log(w),p.error(w)}),localStorage.setItem("SpaWacthedWeek",((Z=new Date(H))==null?void 0:Z.getDay())==0?C(L(new Date(H),-2),"yyyy-MM-dd"):H)):p.error("Section 3 Title is required"):p.error("Section 2 Title is required"):p.error("Section 1 Title is required"),Ne(!1)},Me=async()=>{e!=null&&e.id&&(fe(!0),await E.items("spa").deleteOne(e==null?void 0:e.id).then(F=>{p.success("Data deleted successfully")}).catch(F=>{console.log(F)}),fe(!1),_(!Y),le(),location.reload())},De=()=>{f(!1)};return(0,l.jsxs)(Ee.default,{isOpen:se,contentLabel:"Logout Modal",ariaHideApp:!1,className:"spaModal",overlayClassName:"spaModal_overlay",children:[(0,l.jsx)("div",{className:"close-div",children:(0,l.jsx)("button",{className:"close-act",onClick:le,children:(0,l.jsx)("i",{className:"ri-close-line text-primary"})})}),(0,l.jsxs)("div",{className:"spa-three-row",children:[(0,l.jsx)("div",{className:"flex justify-center uppercase text-primary font-bold",children:j}),ce({titleName:k,setTitleName:U,descriptionName:x,setDescriptionName:P,priceName:$,setPriceName:ie,border:!0}),ce({titleName:h,setTitleName:I,descriptionName:u,setDescriptionName:z,priceName:c,setPriceName:me,border:!0}),ce({titleName:b,setTitleName:g,descriptionName:n,setDescriptionName:J,priceName:O,setPriceName:q,border:!1}),(0,l.jsxs)("div",{className:`flex ${(e==null?void 0:e.id)&&v?"justify-between":"justify-end"}`,children:[(e==null?void 0:e.id)&&v&&(0,l.jsx)("button",{className:"py-1 px-2 border text-white border-red-700 bg-red-700 text-sm font-medium rounded-[5px]",onClick:()=>f(!0),title:"delete",children:(0,l.jsx)("i",{className:"ri-delete-bin-line"})}),(0,l.jsx)("button",{className:"py-1 px-2 border text-white border-primary bg-primary text-sm font-medium rounded-[5px]",onClick:()=>ke(),disabled:S,title:"save",children:S?"Saving...":"Save"})]})]}),G&&(0,l.jsx)(we,{modalIsOpen:G,setIsOpen:f,content:"Are you sure to delete data?",callFunction:Me,cancelHandle:De,Loader:re})]})}var We=Be;var W=M(he()),He=M(_e());var o=M(de());function qe({content:e,IsModalOpen:s,date:j,closeHandle:H,setRefresh:Q,refresh:_,locationId:Y,isAdmin:te}){let[v,B]=(0,W.useState)(s===!0),se="yyyy-MM-dd",[y,G]=(0,W.useState)(e!=null&&e.treatment?e==null?void 0:e.treatment:""),[f,k]=(0,W.useState)(e!=null&&e.description?e==null?void 0:e.description:""),[U,x]=(0,W.useState)(e!=null&&e.price?e==null?void 0:e.price:""),[P,$]=(0,W.useState)(e!=null&&e.time?e==null?void 0:e.time:""),[ie,c]=(0,W.useState)(!1),[me,O]=(0,W.useState)(!1),[q,h]=(0,W.useState)(!1);W.default.useEffect(()=>{(y==null?void 0:y.length)>100&&G(y==null?void 0:y.substring(0,100)),(f==null?void 0:f.length)>100&&k(f==null?void 0:f.substring(0,100))},[y,f]);let I=()=>{B(!1),H()},u=async g=>{var J;c(!0);let n={activity_type:"activities",treatment:y,date:C(j,se),time:P,location_id:Y,price:U||null,description:f?f==null?void 0:f.trim():null};y?P?(e!=null&&e.id?await E.items("spa").updateOne(e==null?void 0:e.id,n).then(S=>{p.success("Updated successfully"),I(),Q(!_)}).catch(S=>{console.log(S),p.error(S)}):await E.items("spa").createOne(n).then(S=>{p.success(" Created successfully"),I(),Q(!_)}).catch(S=>{console.log(S),p.error(S)}),localStorage.setItem("SpaWacthedWeek",((J=new Date(j))==null?void 0:J.getDay())==0?C(L(new Date(j),-2),"yyyy-MM-dd"):j)):p.error("Time is required"):p.error("Title is required"),c(!1)},z=async()=>{e!=null&&e.id&&(O(!0),await E.items("spa").deleteOne(e==null?void 0:e.id).then(g=>{p.success("Data deleted successfully")}).catch(g=>{console.log(g)}),O(!1),Q(!_),I(),location.reload())},b=()=>{h(!1)};return(0,o.jsxs)(He.default,{isOpen:v,contentLabel:"Logout Modal",ariaHideApp:!1,className:"spaModal",overlayClassName:"spaModal_overlay",children:[(0,o.jsxs)("div",{className:`
          flex flex-col p-4 font-normal min-w-[300px] min-h-[300px] bg-[#EFF0EF] border-1 left-5 z-10 gap-4 text-sm top-12`,children:[(0,o.jsx)("div",{className:"close-div",children:(0,o.jsx)("button",{className:"close-act",onClick:I,children:(0,o.jsx)("i",{className:"ri-close-line text-primary"})})}),(0,o.jsxs)("div",{className:"col-span-6",children:[(0,o.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 uppercase",children:"Treatement"}),(0,o.jsxs)("div",{className:"relative spa-title",children:[(0,o.jsx)("textarea",{type:"text",name:"title",id:"title",placeholder:"Enter the title",value:y,onChange:g=>G(g.target.value),className:"mt-1 block w-full rounded-md border border-primary py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"}),(0,o.jsxs)("span",{className:"text-[10px] absolute bottom-0 right-2",children:[y==null?void 0:y.length,"/100"]})]})]}),(0,o.jsxs)("div",{className:"col-span-6",children:[(0,o.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 uppercase",children:"Description"}),(0,o.jsxs)("div",{className:"relative spa-title",children:[(0,o.jsx)("textarea",{type:"text",name:"description",id:"description",placeholder:"Enter the description",value:f||"",onChange:g=>k(g.target.value),className:"resize-none min-h-[80px] mt-1 block w-full rounded-md border border-primary py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"}),(0,o.jsxs)("span",{className:"text-[10px] absolute bottom-0 right-2",children:[f==null?void 0:f.length,"/100"]})]})]}),(0,o.jsxs)("div",{className:"flex flex-row gap-6",children:[(0,o.jsxs)("div",{className:"w-1/2 price",children:[(0,o.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 uppercase",children:"Price"}),(0,o.jsxs)("div",{className:"relative mt-1",children:[(0,o.jsx)("input",{type:"number",name:"price",id:"price",placeholder:"Enter the price",value:U,onChange:g=>x(g.target.value),className:" block w-full rounded-md border border-primary py-2 px-3 pr-[30px] shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"}),(0,o.jsx)("span",{className:" absolute right-3  bottom-[25%] text-center",children:"kr"})]})]}),(0,o.jsxs)("div",{className:"w-1/2 time",children:[(0,o.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 uppercase",children:"Time / Slot"}),(0,o.jsx)("input",{type:"time",name:"Timing",id:"Timing",placeholder:"00:00",value:(P==null?void 0:P.slice(0,5))||"00:00",onChange:g=>$(g.target.value),className:"mt-1 block w-full rounded-md border border-primary py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"})]})]}),(0,o.jsxs)("div",{className:`flex ${(e==null?void 0:e.id)&&te?"justify-between":"justify-end"}`,children:[(e==null?void 0:e.id)&&te&&(0,o.jsx)("button",{className:"py-1 px-2 border text-white border-red-700 bg-red-700 text-sm font-medium rounded-[5px]",onClick:()=>h(!0),title:"delete",children:(0,o.jsx)("i",{className:"ri-delete-bin-line"})}),(0,o.jsx)("button",{className:"py-1 px-2 border text-white border-primary bg-primary text-sm font-medium rounded-[5px]",onClick:()=>u(),disabled:ie,title:"save",children:ie?"Saving...":"Save"})]})]}),q&&(0,o.jsx)(we,{modalIsOpen:q,setIsOpen:h,content:"Are you sure to delete data?",callFunction:z,cancelHandle:b,Loader:me})]})}var Ue=qe;var a=M(de());function Je(){return{title:"Spa Dashboard"}}function Ae(){var X,Z,ne,ue,w;let e=Ce(),[s,j]=pe.default.useState(e),[H,Q]=pe.default.useState(e==null?void 0:e.spaDetails),_=s==null?void 0:s.locationId,Y="yyyy-MM-dd",te=E,[v,B]=(0,D.useState)(new Date),[se,y]=(0,D.useState)(ae(v)),[G,f]=(0,D.useState)(new Date),[k,U]=(0,D.useState)(!1),[x,P]=(0,D.useState)(!0),[$,ie]=(0,D.useState)(!0),[c,me]=(0,D.useState)(""),[O,q]=(0,D.useState)(!1),[h,I]=(0,D.useState)(!1),[u,z]=(0,D.useState)(!0);(0,D.useEffect)(()=>{var m,R,T,ve,K;let t=localStorage.getItem("SpaWacthedWeek");if(localStorage.getItem("isUserExist")||(p.success("You are successfully logged in"),localStorage.setItem("isUserExist",!0)),t)try{B(new Date(t)),y(ae(new Date(t))),f(new Date(t)),n({date:new Date(t)}),localStorage.removeItem("SpaWacthedWeek")}catch(ye){console.log(ye)}let d=((m=s==null?void 0:s.currentUser)==null?void 0:m.selected_locations)!==null?(R=s==null?void 0:s.currentUser)==null?void 0:R.selected_locations:(T=s==null?void 0:s.currentUser)==null?void 0:T.allowed_locations[0].Locations_id;localStorage.setItem("admin",(ve=s==null?void 0:s.currentUser)==null?void 0:ve.is_admin),localStorage.setItem("selectedLocation",JSON.stringify(d)),localStorage.setItem("showDietary",JSON.stringify((K=s==null?void 0:s.currentUser)==null?void 0:K.show_dietary))},[u]);let b=(0,D.useRef)(),g=()=>{U(!0),setTimeout(()=>{U(!1)},2500)},n=async t=>{let r=C(ee(t==null?void 0:t.date,{weekStartsOn:1}),Y),d=C(ee(L(t==null?void 0:t.date,7),{weekStartsOn:0}),Y);await te.items("spa").readByQuery({fields:["*.*.*"],filter:{date:{_between:[r,d]},location_id:{_eq:_}},sort:["time","id"]}).then(m=>{Q(m==null?void 0:m.data)}).catch(m=>console.log(m))},J=async t=>{g(),t==="prev"&&(await n({date:be(v,1)}),B(be(v,1)),y(ae(be(v,1)))),t==="next"&&(await n({date:ge(v,1)}),B(ge(v,1)),y(ae(ge(v,1))))},S=()=>{let t="EEEE",r=[],d=ee(v,{weekStartsOn:1});for(let m=0;m<7;m++)r.push((0,a.jsx)("div",{className:`col col-center  ${m!==6?"border-r":null} bordersky  border-[#C2C2C2] border-collapse p-2 min-w-[110px] table-head`,children:(0,a.jsxs)("div",{className:"col col-center text-sm font-bold text-black",children:[(0,a.jsxs)("div",{className:"flex justify-between flex-row px-1 align-middle day-options text-white relative",children:[(0,a.jsx)("div",{className:"day text-xs",children:C(L(d,m),t)}),(0,a.jsx)("div",{className:"flex gap-1 text-white bg-sky-200/75 px-0.5 rounded-md absolute right-[-8px] top-[-2px]",children:(0,a.jsx)("span",{className:"relative font-normal",children:(0,a.jsx)(Te,{setRefresh:z,refresh:u,Id:m,startDate:L(d,m),locationId:_,type:"spa"},m)})})]}),(0,a.jsx)("div",{className:"text-white text-left font-normal",children:C(L(d,m),"dd/MM/yyyy")})]})},m));return(0,a.jsx)("div",{className:"days row",children:r})},Ne=t=>{console.log("preview icon clicked"),p.warning("preview coming soon!")},re=({data:t,type:r,date:d})=>{me({content:!!t&&t,title:r,date:d}),r==="activities"?q(!0):I(!0)},fe=t=>{let r=ee(v,{weekStartsOn:1}),d=ee(L(new Date(r),7),{weekStartsOn:0}),m=[],R=[],T=r,ve="yyyy-MM-dd";for(;T<d;){for(let K=0;K<7;K++){let ye=H==null?void 0:H.filter(oe=>(oe==null?void 0:oe.date)===C(new Date(T),ve)&&(oe==null?void 0:oe.activity_type)===(t==null?void 0:t.type)),i=ye[(t==null?void 0:t.type)==="activities"?t==null?void 0:t.index:0],xe=T;R.push((0,a.jsx)("div",{className:`relative col cell border-r  border-b bordersky border-[#C2C2C2] border-collapse !pb-0 ${x&&(t==null?void 0:t.type)==="activities"&&(t==null?void 0:t.index)==2?" border-b-2 border-b-primary":""}`,children:(0,a.jsx)(a.Fragment,{children:!!ye&&(0,a.jsx)("div",{className:"h-full",children:(t==null?void 0:t.type)==="activities"?(0,a.jsx)("div",{className:"h-full p-[15px]",children:i!=null&&i.id?(0,a.jsxs)("div",{className:"relative flex w-full",children:[(0,a.jsxs)("div",{className:"w-full nunito-font",children:[(0,a.jsx)("div",{className:"spa-title font-futura text-primary font-medium mb-1",children:i==null?void 0:i.treatment}),(0,a.jsx)("div",{className:"spa-desc text-primary text-[12px]",children:i==null?void 0:i.description}),(0,a.jsx)("div",{className:`spa-price text-primary ${(i==null?void 0:i.price)>0?"text-[14px]":"text-[12px]"}`,children:(i==null?void 0:i.price)>0?(i==null?void 0:i.price)+" kr":"Free(unlimited Spots)"})]}),(0,a.jsx)("div",{className:"w-[10%]",onClick:()=>re({data:i,type:t==null?void 0:t.type,date:xe}),children:(0,a.jsx)("i",{className:"ri-edit-line text-primary relative -right-[5px]"})})]}):(0,a.jsxs)("div",{onClick:()=>re({data:i,type:t==null?void 0:t.type,date:xe}),className:" cursor-pointer nunito-font text-[14px] flex items-center font-semibold",children:[(0,a.jsx)("i",{className:"ri-add-fill color-primary mr-2"}),(0,a.jsx)("span",{children:"Add treatment"})]})}):(0,a.jsxs)("div",{className:`${K==0?"flex justify-between h-full":""}`,children:[K==0&&(0,a.jsx)("div",{className:"w-[12%] min-w-[28px] rotate-180 text-center bg-[#F9F3E5] text-[12px] p-1 uppercase font-futura font-medium text-primary",style:{writingMode:"vertical-rl"},children:t==null?void 0:t.type}),(0,a.jsx)("div",{className:`${K==0,""} w-full p-4`,children:i!=null&&i.id?(0,a.jsxs)("div",{className:"relative flex w-full at_the_spa",children:[(0,a.jsxs)("div",{className:"w-full nunito-font",children:[(0,a.jsx)("div",{className:"atspa title font-futura text-primary text-[14px] py-2",children:i==null?void 0:i.treatment}),(0,a.jsx)("div",{className:"atspa desc font-futura text-primary py-2 text-[14px]",children:i==null?void 0:i.treatment_1}),(0,a.jsx)("div",{className:"atspa font-futura text-primary py-2 text-[14px]",children:i==null?void 0:i.treatment_2})]}),(0,a.jsx)("div",{className:"w-[10%]",onClick:()=>re({data:i,type:t==null?void 0:t.type,date:xe}),children:(0,a.jsx)("i",{className:"ri-edit-line text-primary relative -right-[5px]"})})]}):(0,a.jsx)("div",{children:(0,a.jsxs)("div",{onClick:()=>re({data:i,type:t==null?void 0:t.type,date:xe}),className:" cursor-pointer nunito-font text-[14px] flex items-center font-semibold",children:[(0,a.jsx)("i",{className:"ri-add-fill color-primary mr-2"}),(0,a.jsxs)("span",{children:["Add"," ",(t==null?void 0:t.type)!=="treatments"?t==null?void 0:t.type:"treatment"]})]})})})]})})})},Math.random())),T=L(T,1)}m.push((0,a.jsx)("div",{className:"row spa",children:R},Math.random())),R=[]}return(0,a.jsx)("div",{className:"row1",children:m},Math.random())};function le(t){var r;(r=b.current)==null||r.dismiss()}async function ce(t){var d,m;g();var r="";r=new Date(t.year,t.month-1,1),((d=new Date(t.year,t.month-1,1))==null?void 0:d.getDay())==0&&(r=new Date(t.year,t.month-1,2)),((m=new Date(t.year,t.month-1,1))==null?void 0:m.getDay())==6&&(r=new Date(t.year,t.month-1,3)),f(G),B(r),y(ae(r)),await n({date:r})}let ke=()=>{var R,T;let t={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],from:"From",to:"To"};var r="dd";let d=ee(v,{weekStartsOn:1},{days:7}),m=`${se==ae(new Date)&&(v==null?void 0:v.getFullYear())==((R=new Date)==null?void 0:R.getFullYear())?"This week /":""} ${C(d,r)} th ${t.months[d.getMonth()]} - ${C(L(d,6),r)} th ${t.months[(T=L(d,6))==null?void 0:T.getMonth()]}`;return(0,a.jsxs)("div",{className:"spa",children:[(0,a.jsx)("div",{className:"header row justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col mobile-full",children:[(0,a.jsxs)("div",{className:"flex flex-row custom-date",children:[(0,a.jsxs)("div",{className:"mr-2",children:[t.months[v.getMonth()],","," ",v.getFullYear()]}),(0,a.jsx)("div",{className:"edit cursor-pointer",children:(0,a.jsx)(Pe.default,{ref:b,years:{min:{year:new Date().getFullYear()-40},max:{year:new Date().getFullYear()+40}},value:{year:new Date().getFullYear(),month:new Date().getMonth()+1},lang:t.months,onChange:le,onDismiss:ce,children:(0,a.jsx)("i",{onClick:()=>b.current.show(),className:"ri-edit-fill"})})})]}),(0,a.jsxs)("div",{className:"px-3 font-normal text-center text-base week !text-primary",children:[(0,a.jsx)("span",{className:"font-bold",children:"The Spa"})," / Week ",se]})]})}),(0,a.jsxs)("div",{className:"header row justify-between",children:[(0,a.jsx)("div",{className:"col",children:(0,a.jsxs)("div",{className:"icon cursor-pointer",onClick:()=>J("prev"),children:[(0,a.jsx)("i",{className:"ri-arrow-left-line ri-1x  "}),(0,a.jsx)("div",{className:"font-nunito font-medium",children:"Previous Week"})]})}),(0,a.jsx)("div",{className:"col col-end flex flex-col justify-between items-end",children:(0,a.jsxs)("div",{className:"icon cursor-pointer",onClick:()=>J("next"),children:[(0,a.jsx)("div",{className:"font-nunito font-medium",children:"Next Week"}),(0,a.jsx)("i",{className:"ri-arrow-right-line ri-1x ml-1 "})]})})]})]})},Me=async t=>{var d;await E.users.updateOne((d=s==null?void 0:s.currentUser)==null?void 0:d.id,{selected_locations:{id:t}}).then(m=>{p.success("Updated successfully"),U(!0),setTimeout(()=>{window.location.reload(!0)},1700)}).catch(m=>{p.error("Something went wrong")})},De=()=>{let t=document.getElementById("printContent").innerHTML,r=document.body.innerHTML;document.body.innerHTML=t,window.print(),document.body.innerHTML=r,window.location.reload()},F=t=>{for(var r=[],d=0;d<3;d++)r.push(fe({index:d,type:t==="activity"?"activities":d==0?"treatments":d==1?"drinks":"snacks"}));return r},V=()=>{I(!1),q(!1)},A=t=>{var r;(r=navigator==null?void 0:navigator.clipboard)==null||r.writeText(`${Le}/banner/spa/${_}/screen/${t}`),p.success("Link copied to clipboard!")};return(0,a.jsx)(pe.default.Fragment,{children:(X=s==null?void 0:s.currentUser)!=null&&X.spa?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Se,{title:!0,logout:!0,current:s==null?void 0:s.currentUser,location:s==null?void 0:s.currentUser,changeLocation:Me,noLeftLogo:!1}),(0,a.jsx)("div",{className:"main-content-area",children:(0,a.jsx)("div",{className:"justify-center items-center px-5 py-4 lg:px-10 p-10 pt-12",children:(0,a.jsxs)("div",{className:"items-right ",children:[(0,a.jsx)("div",{className:"pb-7  items-center lg:px-1",children:ke()}),k?(0,a.jsx)(Fe,{}):(0,a.jsxs)(pe.default.Fragment,{children:[(0,a.jsx)("div",{className:"calendar rounded-md border-gray-500 border-collapse spa__dashboard",children:(0,a.jsxs)("div",{id:"printContent",children:[S(),(0,a.jsxs)("div",{className:`uppercase flex justify-center items-center bg-[#E7ECE6] text-primary ${x?"p-[10px]":" border-b border-b-primary p-[14px]"}`,onClick:()=>P(!x),children:[(0,a.jsx)("span",{className:"font-medium mr-[20px] font-futura text-base",children:"Today's Activities"}),x?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",children:(0,a.jsx)("path",{d:"M13 8L7 2L1 8",stroke:"#023937",strokeWidth:"1.5",strokeLinecap:"round"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",children:(0,a.jsx)("path",{d:"M1 1.24609L7 7.61596L13 1.24609",stroke:"#023937",strokeWidth:"1.5",strokeLinecap:"round"})})]}),x&&F("activity"),(0,a.jsxs)("div",{className:`uppercase flex justify-center items-center bg-tab_text_color text-primary ${$?"p-[10px]":"p-[14px]"}`,onClick:()=>ie(!$),children:[(0,a.jsx)("span",{className:"font-medium mr-[20px] font-futura text-base",children:"At the Spa"}),$?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",children:(0,a.jsx)("path",{d:"M13 8L7 2L1 8",stroke:"#023937",strokeWidth:"1.5",strokeLinecap:"round"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"9",viewBox:"0 0 14 9",fill:"none",children:(0,a.jsx)("path",{d:"M1 1.24609L7 7.61596L13 1.24609",stroke:"#023937",strokeWidth:"1.5",strokeLinecap:"round"})})]}),$&&F()]})}),(0,a.jsx)("div",{className:"flex items-center justify-between print-copy",children:(0,a.jsxs)("div",{className:"row-content flex justify-start items-center my-5 flex-wrap gap-5 print-list",children:[(0,a.jsxs)("div",{className:"text-black font-medium text-xs inline-flex",children:[(0,a.jsxs)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"css-i6dzq1",children:[(0,a.jsx)("polyline",{points:"6 9 6 2 18 2 18 9"}),(0,a.jsx)("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),(0,a.jsx)("rect",{x:"6",y:"14",width:"12",height:"8"})]}),(0,a.jsx)("span",{className:"ml-2 cursor-pointer",onClick:()=>De(),children:"PRINT WEEKLY MENU"})]}),((Z=s==null?void 0:s.currentUser)==null?void 0:Z.is_admin)&&(0,a.jsxs)("div",{className:"text-black font-medium text-xs inline-flex",children:[(0,a.jsx)("i",{className:"ri-file-copy-line"}),(0,a.jsx)("span",{className:"ml-2 cursor-pointer",onClick:()=>A("a"),children:"COPY LINK TO SCREEN A"})]}),((ne=s==null?void 0:s.currentUser)==null?void 0:ne.is_admin)&&(0,a.jsxs)("div",{className:"text-black font-medium text-xs inline-flex",children:[(0,a.jsx)("i",{className:"ri-file-copy-line"}),(0,a.jsx)("span",{className:"ml-2 cursor-pointer",onClick:()=>A("b"),children:"COPY LINK TO SCREEN B"})]})]})})]},Math.random())]})})}),(0,a.jsx)(Ie,{}),O&&(0,a.jsx)(Ue,{IsModalOpen:O,setIsParentOpen:q,content:c==null?void 0:c.content,date:c==null?void 0:c.date,closeHandle:V,setRefresh:z,refresh:u,locationId:_,isAdmin:(ue=s==null?void 0:s.currentUser)==null?void 0:ue.is_admin}),h&&(0,a.jsx)(We,{IsModalOpen:h,setIsParentOpen:I,content:c==null?void 0:c.content,ActivityName:c==null?void 0:c.title,date:c==null?void 0:c.date,closeHandle:V,setRefresh:z,refresh:u,locationId:_,isAdmin:(w=s==null?void 0:s.currentUser)==null?void 0:w.is_admin})]}):(0,a.jsx)(Oe,{})},Math.random())}export{Ae as default,Je as meta};
