{
  "version": 3,
  "sources": ["../../../../app/routes/admin/Kitchen.jsx", "../../../../app/components/ProductGrid.jsx"],
  "sourcesContent": ["import React from 'react'\nimport AdminLayout from '../../components/AdminLayout'\n\nimport { API_BASE_URL } from '../../utils/constants'\nimport ProductsGrid from '../../components/ProductGrid'\n// import { HiUserCircle } from \"react-icons/hi\";\n// import { MdDashboard } from \"react-icons/md\";\n\nfunction Kitchen() {\n    return (\n        <AdminLayout>\n            <div className=\"p-6\">\n                <div className=\"flex justify-between\">\n                    <h1 className=\"text-2xl font-semibold mb-4 text-black\">User Management</h1>\n                </div>\n\n\n                {/* Use `variant` instead of `style` */}\n                <Tabs aria-label=\"Tabs with underline\" variant=\"pills\" color=\"purple\" >\n                    <TabItem active title=\"Cafe\" className='bg-[var(--primary-color)] !text-white'>\n                        <ProductsGrid />\n                    </TabItem>\n\n                    <TabItem title=\"Food Waste\" className='bg-[var(--primary-color)] text-white'>\n                        <p>Dashboard tab content</p>\n                    </TabItem>\n                </Tabs>\n            </div>\n        </AdminLayout>\n    )\n}\n\nexport default Kitchen\n", "import { useEffect, useState } from \"react\";\nimport { API_BASE_URL } from \"../utils/constants\";\n\nexport default function ProductsTable() {\n    const [categories, setCategories] = useState([]);\n    const [products, setProducts] = useState([]);\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                const [catRes, prodRes] = await Promise.all([\n                    fetch(`${API_BASE_URL}/items/Products`).then((res) => res.json()),\n                    fetch(`${API_BASE_URL}/items/Product_list`).then((res) => res.json()),\n                ]);\n\n                setCategories(catRes.data || []);\n                setProducts(prodRes.data || []);\n            } catch (error) {\n                console.error(\"Error fetching:\", error);\n            }\n        }\n\n        fetchData();\n    }, []);\n\n    const [sortBy, setSortBy] = useState(null); // \"category\" | \"name\"\n    const [sortDirection, setSortDirection] = useState(\"asc\");\n\n    function handleSort(field) {\n        // toggling direction if field already selected\n        const newDirection = sortBy === field && sortDirection === \"asc\" ? \"desc\" : \"asc\";\n\n        setSortBy(field);\n        setSortDirection(newDirection);\n\n        // If sorting category \u2192 sort category state permanently\n        if (field === \"category\") {\n            setCategories((prev) =>\n                [...prev].sort((a, b) => {\n                    const res = a.name.localeCompare(b.name);\n                    return newDirection === \"asc\" ? res : -res;\n                })\n            );\n        }\n    }\n\n    // Sort categories\n    const sortedCategories = categories;\n\n    // Sort products (within each category)\n    function sortedProducts(category) {\n        const list = products.filter((p) => category.product_list.includes(p.id));\n\n        return sortBy === \"name\"     //enter sorting when sortby is set to name\n            ? [...list].sort((a, b) => {\n                const res = a.name.localeCompare(b.name);\n                return sortDirection === \"asc\" ? res : -res;\n            })\n            : list; // leave product order as-is when sorting category\n    }\n\n\n\n    return (\n        <div className=\"p-6 bg-gray-50 min-h-screen\">\n            <h1 className=\"text-2xl font-bold mb-6\">Products Overview</h1>\n\n            <div className=\"bg-white rounded-lg shadow overflow-hidden border border-gray-300\">\n                <table className=\"min-w-full border-collapse text-sm\">\n                    {/* Table Head */}\n                    <thead className=\"bg-gray-900 text-white font-semibold\">\n                        <tr>\n                            <th\n                                className=\"p-3 border border-gray-300 text-left\"\n                                onClick={() => handleSort('category')}\n                            >\n                                Category{\" \"}\n                                {sortBy === \"category\" && (sortDirection === \"asc\" ? \"\u2191\" : \"\u2193\")}\n                            </th>\n                            <th\n                                onClick={() => handleSort('name')}\n                                className=\"p-3 border border-gray-300 text-left\"\n                            >\n                                Product Name{\" \"}\n                                {sortBy === \"name\" && (sortDirection === \"asc\" ? \"\u2191\" : \"\u2193\")}\n                            </th>\n                            <th className=\"p-3 border border-gray-300 text-left\">Description</th>\n                            <th className=\"p-3 border border-gray-300 text-left\">Price</th>\n                            <th className=\"p-3 border border-gray-300 text-left\">Display Screen 1</th>\n                            <th className=\"p-3 border border-gray-300 text-left\">Display Screen 2</th>\n                        </tr>\n                    </thead>\n\n                    {/* Table Body */}\n                    <tbody className=\"divide-y divide-gray-200\">\n                        {sortedCategories.map((category) => {\n                            const categoryProducts = sortedProducts(category);\n\n                            return categoryProducts.map((product, index) => (\n                                <tr key={product.id} className=\"border-b hover:bg-gray-50\">\n\n                                    {index === 0 && (\n                                        <td\n                                            rowSpan={categoryProducts.length}\n                                            className=\"font-semibold text-gray-900 border-r p-3 align-top\"\n                                        >\n                                            {category.name}\n                                        </td>\n                                    )}\n\n                                    <td className=\"p-3 font-medium\">{product.name}</td>\n\n                                    <td className=\"p-3\">\n                                        {product.description?.length > 150\n                                            ? product.description.slice(0, 150) + \"...\"\n                                            : product.description}\n                                    </td>\n\n                                    <td className=\"p-3 font-medium\">\n                                        {product.price ?? \"\u2014\"}\n                                    </td>\n\n                                    <td className=\"p-3\">\n                                        <Toggle apiOn={product.display_on_screen_1} />\n                                    </td>\n\n                                    <td className=\"p-3\">\n                                        <Toggle apiOn={product.display_on_screen_2} />\n                                    </td>\n                                </tr>\n                            ));\n                        })}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n\nfunction Toggle({ apiOn = false }) {\n    const [on, setOn] = useState(apiOn);\n    return (\n        <button\n            onClick={() => setOn(!on)}\n            className={`w-12 h-6 rounded-full flex items-center transition-all duration-200 ${on ? \"bg-blue-600\" : \"bg-gray-300\"\n                }`}\n        >\n            <div\n                className={`w-5 h-5 bg-white rounded-full shadow transform transition-all duration-200 ${on ? \"translate-x-6\" : \"translate-x-1\"\n                    }`}\n            ></div>\n        </button>\n    );\n}\n"],
  "mappings": "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",
  "names": ["import_react", "import_jsx_dev_runtime"]
}
