import{a as K}from"/build/_shared/chunk-QPJOCY54.js";import{b as _}from"/build/_shared/chunk-USL65MEA.js";import{d as R}from"/build/_shared/chunk-RGLHNRFR.js";import"/build/_shared/chunk-7R5B3IJR.js";import"/build/_shared/chunk-VQXNYB6I.js";import{b as n}from"/build/_shared/chunk-YCQR2KKZ.js";import{B as E,a as L,b as k,h as C}from"/build/_shared/chunk-74WNBD7U.js";import{a as H}from"/build/_shared/chunk-46CN3765.js";import{b as w,i as x,j as b}from"/build/_shared/chunk-62BE6IG2.js";import{a as $,b as N}from"/build/_shared/chunk-TYFUAS6F.js";import{d as s}from"/build/_shared/chunk-W6WK5VNR.js";var o=s($());var M=s(H()),I=s(K());var e=s(N());function P(){return{title:"Create Dietary Preferences"}}function T(){var p;let{location_id:j}=b(),[q,A]=(0,o.useState)(!0),i=w(),[t,S]=(0,o.useState)(""),[D,d]=o.default.useState(!1),u=o.default.useRef(null),O="da",G="en";o.default.useEffect(()=>{let a=document.getElementById("submitId");return a.addEventListener("click",function(){D||t!=null&&t.trim()&&document.activeElement!==u.current&&(a.style.pointerEvents="none",d(!0))}),()=>{a.removeEventListener("click",function(){d(!1)})}},[t]);async function B(a){try{let r=`${L}/language/translate/v2?key=${k}`;return r+="&q="+encodeURI(encodeURIComponent(a)),r+=`&source=${O}`,r+=`&target=${G}`,(await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json()}catch(r){console.log("error",r)}}let F=async a=>{var c;let r=C,U=/[A-z]/g;((c=t==null?void 0:t.trim(" "))==null?void 0:c.length)>0?await B(t).then(async l=>{var f,g,v,h,y;return await r.items("Dietary").createOne({name:t,translated_name:(y=(h=decodeURI(decodeURIComponent((v=(g=(f=l==null?void 0:l.data)==null?void 0:f.translations)==null?void 0:g[0])==null?void 0:v.translatedText)))==null?void 0:h.replaceAll("&#39;","'"))!=null?y:"translatedText"}).then(m=>{i("/dietary-requirements/manage"),n.success(" Created successfully")}).catch(m=>{i(".",{replace:!0}),console.log(m),n.error(m)})}):n.error("Enter valid charecters")};return(0,e.jsxs)("div",{className:"page-content",children:[(0,e.jsx)(R,{title:!0,logout:A,noLeftLogo:!!((p=E)!=null&&p.includes(j))}),(0,e.jsx)("div",{className:"main-content-area",children:(0,e.jsx)("div",{className:"page__wrap w-full flex justify-center items-center mh-145",children:(0,e.jsx)("div",{className:"border p-6 rounded-md border-gray-300 form-area c-allergens",children:(0,e.jsx)(x,{onSubmit:a=>F(a),children:(0,e.jsxs)("div",{className:"max-w-[400px] w-full",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,e.jsxs)("div",{className:"flex justify-start items-center gap-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("button",{type:"button",title:"Backward",onClick:()=>i(-1),className:"w-10 h-10 min-h-[40px] min-w-[40px] inline-flex items-center justify-center rounded-full border border-gray-100 bg-white  text-sm font-medium text-primary shadow-md hover:bg-gray-50 focus:outline-none focus:shadow-md sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})})})}),(0,e.jsx)("div",{children:(0,e.jsx)("h1",{className:"text-xl font-semibold text-primary",children:"Create a Dietary Preferences"})})]}),(0,e.jsx)("div",{className:"flex justify-between items-center gap-5",children:(0,e.jsx)("button",{type:"submit",id:"submitId",title:"Save",className:"w-10 h-10 min-w-[40px] min-h-[40px] inline-flex items-center justify-center rounded-full border border-transparent bg-primary text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})})})]}),(0,e.jsx)("div",{className:"mt-6 block",children:(0,e.jsx)("div",{className:"space-y-6 bg-white py-6",children:(0,e.jsx)("div",{className:"grid grid-cols-6 gap-6",children:(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"user-name",className:"block text-sm font-medium text-gray-700",children:["Name",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),(0,e.jsx)("input",{type:"text",name:"user-name",id:"user-name",placeholder:"Dietary Name",required:!0,ref:u,value:t,onChange:a=>S(a.target.value),autoComplete:"given-name",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"})]})})})})]})})})})}),(0,e.jsx)(_,{})]})}export{T as default,P as meta};
