import{a as E}from"/build/_shared/chunk-5RL4YNCK.js";import{a as Y}from"/build/_shared/chunk-QPJOCY54.js";import{b as A}from"/build/_shared/chunk-USL65MEA.js";import{d as T}from"/build/_shared/chunk-RGLHNRFR.js";import"/build/_shared/chunk-7R5B3IJR.js";import"/build/_shared/chunk-VQXNYB6I.js";import{b as r}from"/build/_shared/chunk-YCQR2KKZ.js";import{B as R,a as S,b as O,h as m}from"/build/_shared/chunk-74WNBD7U.js";import{a as V}from"/build/_shared/chunk-46CN3765.js";import{b as C,i as I,j as _}from"/build/_shared/chunk-62BE6IG2.js";import{a as Q,b as j}from"/build/_shared/chunk-TYFUAS6F.js";import{d as n}from"/build/_shared/chunk-W6WK5VNR.js";var l=n(Q());var z=n(V()),U=n(Y());var e=n(j());function J(){return{title:"Edit Dietary"}}function G(){var f,g,h;let{data:i,uId:c,location_id:H}=_(),[P,u]=l.default.useState(!1),[o,B]=l.default.useState((f=i[0])==null?void 0:f.name),[p,F]=l.default.useState(!1),s=C(),M="da",q="en";async function $(a){try{let t=`${S}/language/translate/v2?key=${O}`;return t+="&q="+encodeURI(encodeURIComponent(a)),t+=`&source=${M}`,t+=`&target=${q}`,(await fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json()}catch{console.log("error"),setIsError(!0)}}let K=async a=>{var t;if(((t=o==null?void 0:o.trim())==null?void 0:t.length)>0){F(!0);let w=m;await $(o).then(async d=>{var v,y,x,b,N,k,L;return await w.items("Dietary").updateOne(c,{name:o!==((v=i[0])==null?void 0:v.name)?o:(y=i[0])==null?void 0:y.name,translated_name:(L=(k=decodeURI(decodeURIComponent((N=(b=(x=d==null?void 0:d.data)==null?void 0:x.translations)==null?void 0:b[0])==null?void 0:N.translatedText)))==null?void 0:k.replaceAll("&#39;","'"))!=null?L:"translatedText"}).then(D=>{s("/dietary-requirements/manage"),r.success("Updated successfully")}).catch(D=>{s(".",{replace:!0}),console.log(D),r.error("Something went wrong")})})}else r.error("Name is required")},W=async()=>{await m.items("Dietary").deleteOne(c).then(t=>{s("/dietary-requirements/manage"),r.success("Deleted successfully")}).catch(t=>{s(".",{replace:!0}),console.log(t),r.error("Something went wrong")})};return(0,e.jsxs)("div",{className:"page-content",children:[(0,e.jsx)(T,{title:!0,logout:!0,noLeftLogo:!!((g=R)!=null&&g.includes(H))}),(0,e.jsx)("div",{className:"main-content-area",children:(0,e.jsx)("div",{className:"page__wrap w-full flex justify-center items-center mh-145",children:(0,e.jsx)("div",{className:"border p-6 rounded-md border-gray-300 form-area e-allergens",children:(0,e.jsxs)("div",{className:"max-w-[400px] w-full",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,e.jsxs)("div",{className:"flex justify-start items-center gap-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("button",{type:"button",title:"Backward",onClick:()=>s(-1),className:"w-10 h-10 min-h-[40px] min-w-[40px] inline-flex items-center justify-center rounded-full border border-gray-100 bg-white  text-sm font-medium text-primary shadow-md hover:bg-gray-50 focus:outline-none focus:shadow-md sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})})})}),(0,e.jsx)("div",{children:(0,e.jsx)("h1",{className:"text-xl font-semibold text-primary",children:(h=i[0])==null?void 0:h.name})})]}),(0,e.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,e.jsx)("button",{type:"button",title:"Delete Dietary Preferences",onClick:a=>u(!0),className:"w-10 h-10 min-w-[40px] min-h-[40px] inline-flex items-center justify-center rounded-full border border-transparent bg-red-600 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trash w-5 h-5",children:[(0,e.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,e.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})}),(0,e.jsx)("button",{title:"Update Dietary Preferences",onClick:a=>p?null:K(a),disabled:p,className:"w-10 h-10 min-w-[40px] min-h-[40px] inline-flex items-center justify-center rounded-full border border-transparent bg-primary text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})})]})]}),(0,e.jsx)("div",{className:"mt-6 block max-w-[580px]",children:(0,e.jsx)(I,{action:"#",method:"POST",children:(0,e.jsx)("div",{className:"space-y-6 bg-white py-6",children:(0,e.jsx)("div",{className:"grid grid-cols-6 gap-6",children:(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"user-name",className:"block text-sm font-medium text-gray-700",children:["Name",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),(0,e.jsx)("input",{type:"text",name:"user-name",id:"user-name",placeholder:"Dietary Name",required:!0,value:o,onChange:a=>B(a.target.value),autoComplete:"given-name",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"})]})})})})})]})})})}),P?(0,e.jsx)(E,{open:u,deleteHandle:W}):null,(0,e.jsx)(A,{})]})}export{G as default,J as meta};
