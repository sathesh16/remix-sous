import{a as B}from"/build/_shared/chunk-MZ7CGHKM.js";import{a as I}from"/build/_shared/chunk-OV4W7B6E.js";import{a as D}from"/build/_shared/chunk-5RL4YNCK.js";import{a as $}from"/build/_shared/chunk-QPJOCY54.js";import{b as j}from"/build/_shared/chunk-USL65MEA.js";import{d as H}from"/build/_shared/chunk-RGLHNRFR.js";import"/build/_shared/chunk-7R5B3IJR.js";import"/build/_shared/chunk-VQXNYB6I.js";import{b as r}from"/build/_shared/chunk-YCQR2KKZ.js";import{B as _,h as g}from"/build/_shared/chunk-74WNBD7U.js";import{a as T}from"/build/_shared/chunk-46CN3765.js";import{b as S,i as L,j as R}from"/build/_shared/chunk-62BE6IG2.js";import{a as q,b as C}from"/build/_shared/chunk-TYFUAS6F.js";import{d as p}from"/build/_shared/chunk-W6WK5VNR.js";var l=p(q());var z=p(T()),F=p($());var e=p(C());function G(){return{title:"Edit Rooms"}}function O(){var b,y,N;let{data:n,uId:h,location_id:M}=R(),[E,w]=(0,l.useState)(!1),[i,P]=(0,l.useState)((b=n[0])==null?void 0:b.name),[v,U]=(0,l.useState)(!1),m=S(),W=B(),a=[{name:"North",id:1,direction:"Up"},{name:"South",id:2,direction:"Down"},{name:"West",id:3,direction:"Left"},{name:"East",id:4,direction:"Right"}],[d,A]=(0,l.useState)(a==null?void 0:a.find(t=>{var s;return(t==null?void 0:t.direction)==((s=n[0])==null?void 0:s.screen_a)})),[c,V]=(0,l.useState)(a==null?void 0:a.find(t=>{var s;return(t==null?void 0:t.direction)==((s=n[0])==null?void 0:s.screen_b)})),K=async t=>{var s,o,u;((s=i==null?void 0:i.trim())==null?void 0:s.length)>0?d?c?(U(!0),await g.items("Rooms").updateOne(h,{name:i!==((o=n[0])==null?void 0:o.name)?i:(u=n[0])==null?void 0:u.name,screen_a:d==null?void 0:d.direction,screen_b:c==null?void 0:c.direction}).then(k=>{m("/rooms/manage"),r.success("Updated successfully")}).catch(k=>{m(".",{replace:!0}),console.log(k),r.error("Something went wrong")})):r.error("Select Screen-B direction"):r.error("Select Screen-A direction"):r.error("Room name is required")},Q=async()=>{await g.items("Rooms").deleteOne(h).then(s=>{m("/rooms/manage"),r.success("Deleted successfully")}).catch(s=>{m(".",{replace:!0}),console.log(s),r.error("Something went wrong")})},x=t=>{let s=o=>(t===!1?A(o):V(o),"");return(0,e.jsx)("div",{children:W?(0,e.jsx)(I._default,{id:"rooms",instanceId:t===!1?1:2,classNamePrefix:"cursor-pointer react-select",className:"screen-direction react-select-container mt-1 block w-full rounded-md border border-gray-300 py-2 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm",maxMenuHeight:250,onChange:o=>s(o),isSearchable:!1,components:{IndicatorSeparator:()=>null},value:t===!1?d:c,options:a,getOptionLabel:o=>{var u,f;return(0,e.jsx)("i",{className:`px-3 ri-arrow-${(f=(u=o==null?void 0:o.direction)==null?void 0:u.trim())==null?void 0:f.toLowerCase()}-line`})},getOptionValue:o=>o,styles:{control:o=>({...o,border:"none",boxShadow:"none"})}}):null})};return(0,e.jsxs)("div",{className:"page-content",children:[(0,e.jsx)(H,{title:!0,logout:!0,noLeftLogo:!!((y=_)!=null&&y.includes(M))}),(0,e.jsx)("div",{className:"main-content-area",children:(0,e.jsx)("div",{className:"page__wrap w-full flex justify-center items-center mh-145",children:(0,e.jsx)("div",{className:"border p-6 rounded-md border-gray-300 form-area e-allergens",children:(0,e.jsxs)("div",{className:"max-w-[400px] w-full",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,e.jsxs)("div",{className:"flex justify-start items-center gap-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("button",{type:"button",title:"Backward",onClick:()=>m(-1),className:"w-10 h-10 min-h-[40px] min-w-[40px] inline-flex items-center justify-center rounded-full border border-gray-100 bg-white  text-sm font-medium text-primary shadow-md hover:bg-gray-50 focus:outline-none focus:shadow-md sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})})})}),(0,e.jsx)("div",{children:(0,e.jsx)("h1",{className:"text-xl font-semibold text-primary",children:(N=n[0])==null?void 0:N.name})})]}),(0,e.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,e.jsx)("button",{type:"button",title:"Delete Rooms",onClick:t=>w(!0),className:"w-10 h-10 min-w-[40px] min-h-[40px] inline-flex items-center justify-center rounded-full border border-transparent bg-red-600 text-sm font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trash w-5 h-5",children:[(0,e.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,e.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})}),(0,e.jsx)("button",{title:"Update Rooms",onClick:t=>v?null:K(t),disabled:v,className:"w-10 h-10 min-w-[40px] min-h-[40px] inline-flex items-center justify-center rounded-full border border-transparent bg-primary text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})})]})]}),(0,e.jsx)("div",{className:"mt-6 block max-w-[580px]",children:(0,e.jsx)(L,{action:"#",method:"POST",children:(0,e.jsx)("div",{className:"space-y-6 bg-white py-6",children:(0,e.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"room-name",className:"block text-sm font-medium text-gray-700",children:["Room Name",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),(0,e.jsx)("input",{type:"text",name:"room-name",id:"room-name",placeholder:"Room Name",required:!0,value:i,onChange:t=>P(t.target.value),autoComplete:"given-name",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"})]}),(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"direction-name",className:"block text-sm font-medium text-gray-700",children:["Screen A Direction",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),x(!1)]}),(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"direction-name",className:"block text-sm font-medium text-gray-700",children:["Screen B Direction",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),x(!0)]})]})})})})]})})})}),E?(0,e.jsx)(D,{open:w,deleteHandle:Q,note:!0}):null,(0,e.jsx)(j,{})]})}export{O as default,G as meta};
