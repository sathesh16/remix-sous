import{a as C}from"/build/_shared/chunk-MZ7CGHKM.js";import{a as L}from"/build/_shared/chunk-OV4W7B6E.js";import{a as K}from"/build/_shared/chunk-QPJOCY54.js";import{b as k}from"/build/_shared/chunk-USL65MEA.js";import{d as S}from"/build/_shared/chunk-RGLHNRFR.js";import"/build/_shared/chunk-7R5B3IJR.js";import"/build/_shared/chunk-VQXNYB6I.js";import{b as c}from"/build/_shared/chunk-YCQR2KKZ.js";import{B as N,h as y}from"/build/_shared/chunk-74WNBD7U.js";import{a as W}from"/build/_shared/chunk-46CN3765.js";import{b as h,i as b,j as x}from"/build/_shared/chunk-62BE6IG2.js";import{a as O,b as w}from"/build/_shared/chunk-TYFUAS6F.js";import{d as l}from"/build/_shared/chunk-W6WK5VNR.js";var s=l(O());var T=l(W()),R=l(K());var e=l(w());function q(){return{title:"Create Rooms"}}function _(){var g;let{location_id:E}=x(),[P,j]=(0,s.useState)(!0),m=h(),[r,B]=(0,s.useState)(""),[a,D]=(0,s.useState)(),[n,F]=(0,s.useState)(),[H,u]=s.default.useState(!1),f=s.default.useRef(null),I=C();s.default.useEffect(()=>{let o=document.getElementById("submitId");return o.addEventListener("click",function(){H||!!(r!=null&&r.trim())&&!!a&&!!n&&document.activeElement!==f.current&&(o.style.pointerEvents="none",u(!0))}),()=>{o.removeEventListener("click",function(){u(!1)})}},[r,a,n]);let A=async o=>{var t;let d=y;((t=r==null?void 0:r.trim())==null?void 0:t.length)>0?a?n?await d.items("Rooms").createOne({name:r,screen_a:a==null?void 0:a.direction,screen_b:n==null?void 0:n.direction}).then(i=>{m("/rooms/manage"),c.success(" Created successfully")}).catch(i=>{m(".",{replace:!0}),console.log(i),c.error(i)}):c.error("Select Screen-B direction"):c.error("Select Screen-A direction"):c.error("Room name is required")},M=[{name:"North",id:1,direction:"Up"},{name:"South",id:2,direction:"Down"},{name:"West",id:3,direction:"Left"},{name:"East",id:4,direction:"Right"}],p=o=>{let d=t=>(o===!1?D(t):F(t),"");return(0,e.jsx)("div",{children:I?(0,e.jsx)(L._default,{id:"rooms",instanceId:o===!1?1:2,classNamePrefix:"cursor-pointer react-select",className:"screen-direction-create react-select-container mt-1 block w-full rounded-md border border-gray-300 py-2 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary focus:outline-none focus:ring-primary sm:text-sm",maxMenuHeight:250,onChange:t=>d(t),isSearchable:!1,components:{IndicatorSeparator:()=>null},value:o===!1?a:n,options:M,getOptionLabel:t=>{var i,v;return(0,e.jsx)("i",{className:`ri-arrow-${(v=(i=t==null?void 0:t.direction)==null?void 0:i.trim())==null?void 0:v.toLowerCase()}-line`})},getOptionValue:t=>t,styles:{control:t=>({...t,border:"none",boxShadow:"none"})}}):null})};return(0,e.jsxs)("div",{className:"page-content",children:[(0,e.jsx)(S,{title:!0,logout:j,noLeftLogo:!!((g=N)!=null&&g.includes(E))}),(0,e.jsx)("div",{className:"main-content-area",children:(0,e.jsx)("div",{className:"page__wrap w-full flex justify-center items-center mh-145",children:(0,e.jsx)("div",{className:"border p-6 rounded-md border-gray-300 form-area c-allergens",children:(0,e.jsx)(b,{onSubmit:o=>A(o),children:(0,e.jsxs)("div",{className:"max-w-[400px] w-full",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,e.jsxs)("div",{className:"flex justify-start items-center gap-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("button",{type:"button",title:"Backward",onClick:()=>m(-1),className:"w-10 h-10 min-h-[40px] min-w-[40px] inline-flex items-center justify-center rounded-full border border-gray-100 bg-white  text-sm font-medium text-primary shadow-md hover:bg-gray-50 focus:outline-none focus:shadow-md sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})})})}),(0,e.jsx)("div",{children:(0,e.jsx)("h1",{className:"text-xl font-semibold text-primary",children:"Create a Room"})})]}),(0,e.jsx)("div",{className:"flex justify-between items-center gap-5",children:(0,e.jsx)("button",{type:"submit",id:"submitId",title:"Save",className:"w-10 h-10 min-w-[40px] min-h-[40px] inline-flex items-center justify-center rounded-full border border-transparent bg-primary text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})})})]}),(0,e.jsx)("div",{className:"mt-6 block",children:(0,e.jsx)("div",{className:"space-y-6 bg-white py-6",children:(0,e.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"room-name",className:"block text-sm font-medium text-gray-700",children:["Name",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),(0,e.jsx)("input",{type:"text",name:"room-name",id:"user-name",placeholder:"Room Name",required:!0,ref:f,value:r,onChange:o=>B(o.target.value),autoComplete:"given-name",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"})]}),(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"direction-name",className:"block text-sm font-medium text-gray-700",children:["Screen A Direction",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),p(!1)]}),(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"direction-name",className:"block text-sm font-medium text-gray-700",children:["Screen B Direction",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),p(!0)]})]})})})]})})})})}),(0,e.jsx)(k,{})]})}export{_ as default,q as meta};
