{
  "version": 3,
  "sources": ["../../../../../../../../app/routes/banner/spa/$location/screen/$screen_name/index.jsx", "../../../../../../../../app/components/banner/spaThreeColbanner.jsx"],
  "sourcesContent": ["import React from \"react\";\nimport { useLoaderData } from \"@remix-run/react\";\nimport Custom404Page from \"~/routes/$\";\nimport { getDirectusClient } from \"~/lib/directus\";\nimport { sessionStorage } from \"~/services/session.server\";\nimport { json } from \"@remix-run/node\";\nimport { format } from \"date-fns\";\n// import spaImage_1 from \"~/assets/images/spa.png\";\nimport spaImage_2 from \"~/assets/images/spa_banner_activity.png\";\nimport SpaThreeColBanner from \"~/components/banner/spaThreeColbanner\";\nimport spaImage from \"~/assets/images/spa_three_col_banner.png\";\nimport logo from \"~/assets/images/logo_white.png\";\n\nexport const loader = async ({ request, params }) => {\n  // Fetching session from the cookie\n  const session = await sessionStorage.getSession(\n    request.headers.get(\"Cookie\")\n  );\n  // Connecting with directus client using session key\n  var sessionkey = session.get(\"sessionKey\");\n  const directus = await getDirectusClient(sessionkey);\n\n  // Fetching screen_name, location id\n  const screen_name = params?.screen_name;\n  const locationId = params?.location;\n\n  // Fetching the spa data by today day and current location\n  const response = await directus.items(\"spa\").readByQuery({\n    fields: [\"*.*\"],\n    filter: {\n      date: { _eq: format(new Date(), \"yyyy-MM-dd\") },\n      location_id: { _eq: locationId },\n      activity_type:\n        screen_name === \"a\"\n          ? {\n              _eq: \"activities\",\n            }\n          : {\n              _neq: \"activities\",\n            },\n    },\n    sort: [screen_name === \"a\" ? \"time\" : \"id\"],\n  });\n\n  // Checking location id in the url param exists\n  const Locations = await directus\n    .items(\"Locations\")\n    .readByQuery({ fields: [\"id\"] });\n  const LocationMatch = Locations?.data?.some((e) => e?.id == locationId);\n\n  return json({\n    data: response,\n    screen_name: screen_name,\n    location: LocationMatch,\n  });\n};\n\nfunction RenderSpaActivites(props) {\n  const { data } = props;\n  const spa_activities = data;\n  const activity_pricing = [];\n\n  // Rendering the activities timeline.\n  spa_activities?.data?.map((activity) => {\n    activity?.treatment && activity?.time\n      ? activity_pricing.push(\n          <li\n            className=\"mb-10 border-s border-primary\"\n            key={activity?.id}\n          >\n            <div className=\"font-futura\">\n              <p className=\"act_time absolute -start-20 mb-1 text-xl font-normal leading-none\">\n                {format(\n                  new Date(activity?.date + \"T\" + activity?.time),\n                  \"HH:mm\"\n                )}\n              </p>\n              <div className=\"act_details relative -top-[4px]\">\n                <h3 className=\"act_title pl-5 text-lg font-semibold\">\n                  {activity?.treatment}\n                </h3>\n                <p className=\"act_desc pl-5 mt-2 font-normal\">\n                  {activity?.description}\n                </p>\n                {activity?.price == \"0\"  || activity?.price  === undefined || activity?.price  === null ? (\n                  <p className=\"act_spots pl-4 mt-4 font-normal flex items-center gap-2\">\n                    <b className=\"font-medium\">Free</b>\n                    {\" (unlimited spots)\"}\n                  </p>\n                ) : (\n                  <p className=\"act_price pl-5 mt-4 text-lg font-normal\">\n                    {activity?.price} kr\n                  </p>\n                )}\n              </div>\n            </div>\n          </li>\n        )\n      : \"\";\n  });\n\n  return (\n    <>\n      <div className=\"flex text-primary items-center justify-center mx-auto min-h-screen lg:py-0 bg-[#ebdbb4] spa_banner_preview\">\n        <div className=\"img_section\">\n          <img src={spaImage_2} alt=\"\" className=\"h-full w-full\" />\n        </div>\n        <div className=\"content_section flex flex-col w-full items-center justify-center\">\n          {spa_activities.data.length != 0 ? (\n            <div className=\"px-[60px] py-[40px] w-full flex flex-col items-center justify-center\">\n              <h1 className=\"text-2xl mb-10 font-ivymode main_title\">Today's Spa Activities</h1>\n              <ol className=\"relative w-[440px]\">{activity_pricing}</ol>\n              <p className=\"mb-6 text-lg font-medium absolute bottom-0 text-center font-futura\">To book, please visit the spa reception!</p>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default function index() {\n  const { data, screen_name, location } = useLoaderData();\n\n  return (\n    <>\n      {location == true ? (\n        screen_name == \"a\" ? (\n          <RenderSpaActivites data={data} />\n        ) : screen_name == \"b\" ? (\n          <div\n            className=\"page-preview-atthespa flex text-primary items-center justify-between px-20  mx-auto min-h-screen lg:py-0\"\n            style={{ backgroundImage: `url(${spaImage})` }}\n          >\n            {\" \"}\n            <div className=\"flex justify-between flex-col items-center w-full\">\n              <div className=\"title pb-[40px] text-white text-center font-ivymode\">At the Spa</div>\n              <SpaThreeColBanner data={data?.data} />\n              <img\n                className=\"pt-10 relative top-1\"\n                width={\"160px\"}\n                height={\"160px\"}\n                alt=\"company logo\"\n                src={logo}\n              />\n            </div>\n          </div>\n        ) : (\n          <Custom404Page />\n        )\n      ) : (\n        <Custom404Page />\n      )}\n    </>\n  );\n}\n", "import React from \"react\";\n\nfunction SpaThreeColBanner({ data }) {\n  const treatmentData = [];\n  const drinksData = [];\n  const snacksData = [];\n  !!data &&\n    data?.map((e) => {\n      e?.activity_type === \"drinks\"\n        ? drinksData?.push(e)\n        : e?.activity_type === \"snacks\"\n        ? snacksData?.push(e)\n        : treatmentData?.push(e);\n    });\n  const Body = ({ treatment, description, price }) => {\n    return (\n      <div className=\"d-lists\">\n        <div className=\"title font-normal\">{treatment}</div>\n        {!!treatment && !!description && <div className=\"desc p-[10px]\">{description}</div>}\n        {!!treatment && (\n          <div className=\"price p-[5px]\">\n            {!!price ? (\n              price + \" kr\"\n            ) : (\n              <div>\n                <span className=\"spa-free font-bold\">Free </span>\n                (unlimited spots)\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  };\n  const renderItem = ({ data }) => {\n    return (\n      <div className=\"min-h-[680px] bg-[#EBDBB4] px-[40px] py-[35px]\">\n        {data?.length > 0 && (\n          <div className=\"spa-banners-list\">\n            <div className=\"m-title uppercase pb-[20px]\">{data?.[0]?.activity_type}</div>\n            {data?.map((e) => {\n              return (\n                <div key={e?.id} className=\"details\">\n                  {Body({\n                    treatment: e?.treatment,\n                    description: e?.description,\n                    price: e?.price,\n                  })}\n                  {Body({\n                    treatment: e?.treatment_1,\n                    description: e?.description_1,\n                    price: e?.price_1,\n                  })}\n                  {Body({\n                    treatment: e?.treatment_2,\n                    description: e?.description_2,\n                    price: e?.price_2,\n                  })}\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    );\n  };\n  return (\n    <div className=\"flex text-center text-primary items-center justify-center gap-5 font-futura w-full\">\n      {treatmentData?.length > 0 && (\n        <div className=\"spa-banners\">{renderItem({ data: treatmentData })}</div>\n      )}\n      {drinksData?.length > 0 && <div className=\"spa-banners\">{renderItem({ data: drinksData })}</div>}\n      {snacksData?.length > 0 && <div className=\"spa-banners\">{renderItem({ data: snacksData })}</div>}\n      {treatmentData?.length === 0 &&\n        snacksData?.length === 0 &&\n        treatmentData?.length === 0 && (\n          <div className=\"spa-banners\">{renderItem({ data: \"\" })}</div>\n        )}\n    </div>\n  );\n}\n\nexport default SpaThreeColBanner;\n"],
  "mappings": "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",
  "names": ["import_react", "data"]
}
