{
  "version": 3,
  "sources": ["../../../../../../../app/routes/banner/weekmenu/$locationId/print/$lang.jsx"],
  "sourcesContent": ["import React from \"react\";\nimport { useLoaderData } from \"@remix-run/react\";\nimport Custom404Page from \"~/routes/$\";\nimport { getDirectusClient } from \"~/lib/directus\";\nimport { json } from \"@remix-run/node\";\nimport menuLogo from \"~/assets/images/banner-logo.svg\";\nimport { format } from \"date-fns\";\nimport {\n  ALLERGENS_ENG_DK,\n  DIETARY_PREFERENCES_DK,\n  EMPTY_ALLERGENS_ENG,\n  EMPTY_ALLERGENS_DK,\n  ALLERGENS_ENG,\n  DIETARY_PREFERENCES_ENG,\n  DEFAULT_LOCATION_ID,\n} from \"~/utils/constants\";\nimport printCSS from \"~/stylesheet/print.css\";\n\nexport function links() {\n  return [ \n     { rel: 'stylesheet', href: printCSS }\n  ];\n}\n\nexport const loader = async ({  params }) => {\n  const todaydate = format(new Date(), \"yyyy-MM-dd\");\n  const lang = params?.lang;\n  const locationId = params.location ? params.location : DEFAULT_LOCATION_ID;\n  const directus = await getDirectusClient();\n  const response = await directus.items(\"screen_display\").readByQuery({\n    fields: [\n      \"*.*\",\n      \"recipe_id.allergens_list.Allergens_id.*\",\n      \"recipe_id.dietary_list.Dietary_id.*\",\n    ],\n    filter: {\n      date: { _eq: todaydate },\n      location_id: { _eq: locationId },\n      station_name: { is_parent_station: { _neq: true } },\n      station_name: { is_not_main_station: { _neq: true } },\n    },\n    sort: [\"station_name.sequence\"],\n  });\n  const Locations = await directus\n    .items(\"Locations\")\n    .readByQuery({ fields: [\"id\"] });\n  const LocationMatch = Locations?.data?.some((e) => e?.id == locationId);\n\n  return json({\n    id: locationId,\n    data: response,\n    LocationMatch,\n    lang,\n  });\n};\n\nexport default function PrintWeekBanner() {\n  const datas = useLoaderData();\n  const renderData = ({ language, data, title }) => {\n    return (\n      <>\n        {data?.map((e, i) => {\n          const menu =\n            language === \"da\"\n              ? e?.recipe_id?.menu_info\n              : e?.recipe_id?.menu_info_1;\n          const titleCheck = e?.station_name?.station_name_translation?.filter(\n            (e) => e?.location_id == datas?.id\n          );\n          const StationName =\n            titleCheck?.[0]?.name?.length > 0\n              ? titleCheck?.[0]?.name\n              : e?.station_name?.station_name;\n          return (\n            <div key={Math.random()} className=\"main-body\">\n              {menu?.trim()?.length > 0 && (\n                <div\n                  className=\"banner-contents flex flex-col items-center w-full px-4 py-3 slider-font\"\n                  key={Math.random()}\n                >\n                  <div className=\"flex text-start\tw-full gap-[15px]\">\n                    <div className=\"w-full flex flex-col items-baseline flex-[0_0_58%] station_details\">\n                      {menu?.trim()?.length > 0 && (\n                        <div className=\"store_name w-full font-medium text-start mb-[5px] text-[12px] uppercase font-futura\">\n                          {StationName}\n                        </div>\n                      )}\n                      {menu?.trim()?.length > 0 && (\n                        <div className=\"w-full pb-[15px] leading-none menu-title font-futura font-medium\">\n                          {menu}\n                        </div>\n                      )}\n                      {menu?.trim()?.length > 0 && (\n                        <div className=\"w-full allergen font-medium font-futura\">\n                          <span className=\" font-bold\">\n                            {language === \"da\"\n                              ? ALLERGENS_ENG_DK\n                              : ALLERGENS_ENG}\n                            :{\" \"}\n                          </span>\n                          {e?.recipe_id?.allergens_list?.length > 0\n                            ? e?.recipe_id?.allergens_list?.map(\n                                (val, i) =>\n                                  `${\n                                    val?.Allergens_id?.[\n                                      language === \"da\"\n                                        ? \"name\"\n                                        : \"translated_name\"\n                                    ]\n                                  }${\n                                    i !==\n                                    e?.recipe_id?.allergens_list?.length - 1\n                                      ? \", \"\n                                      : \"\"\n                                  }`\n                              )\n                            : language === \"da\"\n                            ? EMPTY_ALLERGENS_DK\n                            : EMPTY_ALLERGENS_ENG}\n                        </div>\n                      )}\n                      {menu?.trim()?.length > 0 &&\n                        e?.recipe_id?.dietary_list?.length > 0 && (\n                          <div className=\"banner-dietary font-medium font-futura\">\n                            <span className=\" font-bold\">\n                              {language === \"da\"\n                                ? DIETARY_PREFERENCES_DK\n                                : DIETARY_PREFERENCES_ENG}\n                              :{\" \"}\n                            </span>\n                            {e?.recipe_id?.dietary_list?.map(\n                              (val, i) =>\n                                `${\n                                  val?.Dietary_id?.[\n                                    language === \"da\"\n                                      ? \"name\"\n                                      : \"translated_name\"\n                                  ]\n                                }${\n                                  i !== e?.recipe_id?.dietary_list?.length - 1\n                                    ? \", \"\n                                    : \"\"\n                                }`\n                            )}\n                          </div>\n                        )}\n                    </div>\n                    {menu?.trim()?.length > 0 && (\n                      <div className=\"w-full gap-y-2 text-center flex flex-col justify-center\">\n                        {e?.recipe_id?.total_co2 != null &&\n                          Number(e?.recipe_id?.total_co2)?.toFixed(2) > 0 && (\n                            <div className=\"flex items-center\">\n                              <div className=\"co2_section rounded-full bg-[#DEDFD2] mr-2 items-center justify-center flex font-ivymode flex-col\">\n                                <span className=\"main-value font-semibold text-primary\">\n                                  {Number(e?.recipe_id?.total_co2)?.toFixed(2)}\n                                </span>{\" \"}\n                                <span className=\"unit font-medium font-ivymode\">\n                                  kg\n                                </span>\n                              </div>\n                              <span className=\"energy font-medium uppercase font-futura\">\n                                co2\n                              </span>\n                            </div>\n                          )}\n                        {e?.recipe_id?.total_calories != null &&\n                          Number(e?.recipe_id?.total_calories)?.toFixed(2) >\n                            0 && (\n                            <div className=\"flex items-center co2-content\">\n                              <div className=\"co2_section rounded-full bg-[#DEDFD2] mr-2 items-center justify-center flex font-ivymode flex-col\">\n                                <span className=\"main-value font-semibold text-primary\">\n                                  {Number(\n                                    e?.recipe_id?.total_calories\n                                  )?.toFixed(2)}\n                                </span>{\" \"}\n                                <span className=\"unit font-medium font-ivymode\">\n                                  kcal\n                                </span>\n                              </div>\n                              <span className=\"energy font-medium font-futura\">\n                                {language === \"da\" ? \"Energi\" : \"Energy\"} pr.\n                                100g\n                              </span>\n                            </div>\n                          )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </>\n    );\n  };\n  const Print = () => {\n    let printContents = document.getElementById(\"printContent\").innerHTML;\n    let originalContents = document.body.innerHTML;\n    document.body.innerHTML = printContents;\n    window.print();\n    document.body.innerHTML = originalContents;\n    window.location.reload();\n  };\n\n  return (\n    <>\n      {datas?.LocationMatch === false ||\n      // datas?.lang !== \"en\" &&\n      datas?.lang !== \"da\" ? (\n        <Custom404Page />\n      ) : (\n        <div className=\"week-menu-print relative bg-[#DFCB9C] text-primary\">\n          <div\n            className=\"print-btn flex justify-end font-bold cursor-pointer\"\n            onClick={Print}\n          >\n            <i className=\"ri-printer-line\"></i>\n            <span className=\"ml-2 uppercase \">Print</span>\n          </div>\n          <div\n            className=\"main-container overflow-hidden  min-h-[100vh]\"\n            id=\"printContent\"\n          >\n            <div className=\"w-full flex flex-col items-center\">\n              <div className=\"menu-logo flex flex-col\">\n                <img src={menuLogo} alt=\"menu-logo\" className=\"w-[10vw]\" />\n              </div>\n              {datas?.data?.data[0]?.recipe_id?.[\n                datas?.lang == \"da\" ? \"menu_info\" : \"menu_info_1\"\n              ]?.trim()?.length > 0 && (\n                <div\n                  key={Math.random()}\n                  className=\"banner-contents flex flex-col w-full px-5 items-end\"\n                >\n                  <div className=\"heading uppercase text-[24px] py-20px font-ivymode font-medium text-[#003B38] flex w-full justify-center py-4\">\n                    {datas?.lang === \"en\" ? \"Today's Menu\" : \"DAGENS Menu\"}\n                  </div>\n                </div>\n              )}\n              <div className=\"print-body-section-content-1 justify-center text-center flex pb-4 md:min-w-[650px] max-w-[1000px]\">\n                <div className=\"content-1 text-primary w-full\">\n                  {renderData({\n                    language: datas?.lang,\n                    data: datas?.data?.data?.slice(0, 5),\n                    tile: true,\n                  })}\n                </div>\n                <div className=\"content-2 text-primary w-full\">\n                  {!!datas?.data?.data &&\n                    datas?.data?.data?.length > 5 &&\n                    renderData({\n                      language: datas?.lang,\n                      data: datas?.data?.data?.slice(5),\n                      tile: false,\n                    })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],
  "mappings": "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",
  "names": ["_a", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i", "_j", "_k", "_l", "e", "i"]
}
