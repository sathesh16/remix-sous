import{a as B}from"/build/_shared/chunk-WUGKZFRL.js";import{a as D}from"/build/_shared/chunk-QPJOCY54.js";import{b as k}from"/build/_shared/chunk-USL65MEA.js";import{d as N}from"/build/_shared/chunk-RGLHNRFR.js";import"/build/_shared/chunk-7R5B3IJR.js";import"/build/_shared/chunk-VQXNYB6I.js";import{b as l}from"/build/_shared/chunk-YCQR2KKZ.js";import{B as y,h as b,i as v}from"/build/_shared/chunk-74WNBD7U.js";import{a as U}from"/build/_shared/chunk-46CN3765.js";import{b as g,i as w,j as h}from"/build/_shared/chunk-62BE6IG2.js";import{a as A,b as x}from"/build/_shared/chunk-TYFUAS6F.js";import{d as r}from"/build/_shared/chunk-W6WK5VNR.js";var a=r(A());var L=r(D()),J=r(B());var H=r(U());var e=r(x());function R(){return{title:"Create Users"}}function C(){var p;let{data:t,location_id:S}=h(),[i,_]=a.default.useState(!1),[V,W]=a.default.useState(!1),[n,j]=a.default.useState(),[c,E]=a.default.useState(),[d,F]=a.default.useState(),[q,Z]=a.default.useState(),[M,u]=a.default.useState(!1),m=g(),P=async s=>{var f;/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(n)?t!=null&&t.length?(u(!0),await b.users.createOne({first_name:c,email:n,password:d,allowed_locations:[{Locations_id:(f=t==null?void 0:t[0])==null?void 0:f.id}],selected_locations:(t==null?void 0:t.length)>0?t==null?void 0:t[0]:null,role:v,is_admin:!1,password_copy:d}).then(o=>{m("/users/manage"),l.success("Created successfully")}).catch(o=>{console.log(o==null?void 0:o.message),m(".",{replace:!0}),l.error(o==null?void 0:o.message)})):l.error("Location field is required"):l.error("Please enter a vaild Email address"),u(!1)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N,{title:!0,logout:!0,noLeftLogo:!!((p=y)!=null&&p.includes(S))}),(0,e.jsx)("div",{className:"main-content-area",children:(0,e.jsx)("div",{className:"page__wrap w-full flex justify-center items-center mh-145",children:(0,e.jsx)("div",{className:"border p-6 rounded-md border-gray-300 form-area",children:(0,e.jsxs)(w,{className:"max-w-[400px] w-full px-5",onSubmit:s=>P(s),children:[(0,e.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,e.jsxs)("div",{className:"flex justify-start items-center gap-3",children:[(0,e.jsx)("div",{children:(0,e.jsx)("button",{type:"button",title:"Backward",onClick:()=>m(-1),className:"w-10 h-10 min-h-[40px] min-w-[40px] inline-flex items-center justify-center rounded-full border border-gray-100 bg-white  text-sm font-medium text-primary shadow-md hover:bg-gray-50 focus:outline-none focus:shadow-md sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})})})}),(0,e.jsx)("div",{children:(0,e.jsx)("h1",{className:"text-xl font-semibold text-primary",children:"Create a new user"})})]}),(0,e.jsx)("div",{className:"flex justify-between items-center gap-5",children:(0,e.jsx)("button",{type:"submit",title:"Save",disabled:M,className:"w-10 h-10 min-w-[40px] min-h-[40px] inline-flex items-center justify-center rounded-full border border-transparent bg-primary text-sm font-medium text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 sm:w-auto",children:(0,e.jsx)("span",{children:(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:(0,e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})})})]}),(0,e.jsx)("div",{className:"mt-6 block",children:(0,e.jsxs)("div",{className:"space-y-6 bg-white py-6",children:[(0,e.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"user-name",className:"block text-sm font-medium text-gray-700",children:["Name",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),(0,e.jsx)("input",{type:"text",name:"user-name",id:"user-name",placeholder:"User Name",required:!0,value:c||"",onChange:s=>E(s.target.value),autoComplete:"given-name",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"})]}),(0,e.jsxs)("div",{className:"col-span-6",children:[(0,e.jsxs)("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:["Email address",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),(0,e.jsx)("input",{type:"email",name:"email-address",id:"email-address",placeholder:"User Email",required:!0,autoComplete:"email",value:n||"",onChange:s=>j(s.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"})]}),(0,e.jsxs)("div",{className:"col-span-6 relative",children:[(0,e.jsxs)("label",{htmlFor:"user-paaword",className:"block text-sm font-medium text-gray-700",children:["Password",(0,e.jsx)("span",{className:"text-red-600 text-base",children:"*"})]}),(0,e.jsx)("input",{type:i?"text":"password",name:"user-password",id:"user-password",placeholder:"User Password",required:!0,value:d||"",onChange:s=>F(s.target.value),autoComplete:"new-password",className:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm placeholder:text-gray-400 placeholder:!text-sm placeholder:font-medium focus:border-primary  focus:outline-none focus:ring-primary sm:text-sm"}),(0,e.jsxs)("button",{type:"button",onClick:()=>{_(!i)},title:i?"Hide Password":"Show Password",className:"absolute z-20 right-5 bottom-[11px] cursor-pointer text-gray-300",children:[(0,e.jsx)("span",{id:"eye-off",className:i===!0?"hidden":"block",children:(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye-off w-4 h-4 text-black",children:[(0,e.jsx)("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),(0,e.jsx)("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})}),(0,e.jsx)("span",{id:"eye-on",className:i===!1?"hidden":"block",children:(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye w-4 h-4 text-black",children:[(0,e.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,e.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})})]})]})]})," "]})})]})})})}),(0,e.jsx)(k,{})]})}export{C as default,R as meta};
