{
  "version": 3,
  "sources": ["empty-module:../../sessions.server", "../../../app/routes/login/index.jsx"],
  "sourcesContent": ["module.exports = {};", "import React from 'react'\nimport { commitSession, getSession } from '../../sessions.server';\n\n// Loader - redirect if already logged in\nexport async function loader({ request }) {\n    const session = await getSession(request);\n    const user = session.get(\"user\");\n    if (user) return redirect(\"/dashboard\");\n    return null;\n}\n\n// Action - handle login form submission\nexport async function action({ request }) {\n    const formData = await request.formData();\n    const username = formData.get(\"username\");\n    const password = formData.get(\"password\");\n\n    try {\n        const user = await fetchUserData(username);\n\n        // Compare passwords (plain for now)\n        if (user.password !== password) {\n            return { error: \"Invalid username or password\" };\n        }\n\n        // Create session\n        const session = await getSession(request);\n        session.set(\"user\", { id: user.id, name: user.name, username });\n\n        return redirect(\"/dashboard\", {\n            headers: {\n                \"Set-Cookie\": await commitSession(session),\n            },\n        });\n    } catch (err) {\n        return { error: err.message || \"Something went wrong\" };\n    }\n}\n\nfunction Login() {\n    const data = useActionData();\n    const navigation = useNavigation();\n\n    useEffect(() => {\n        if (data?.error) {\n            const toast = document.getElementById(\"toast\");\n            toast.textContent = data.error;\n            toas.classList.add(\"show\");\n            setTimeout(() => toast.classList.remove(\"show\"), 3000);\n        }\n    }, [data]);\n\n    return (\n        <div className='flex h-full items-center justify-center max-w-[600px] mx-auto p-6'>\n            <div className='flex flex-col items-center gap-6 w-full'>\n                <img src='/images/sous-chef.svg' alt='sous-logo' width=\"100px\" />\n                <div className=\"flex justify-between items-center gap-x-4 w-full\">\n                    Login Account\n                    <img src=\"/images/iss_logo.webp\" alt=\"iss-logo\" width=\"60px\" />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n"],
  "mappings": ";;;;;;;;AAAA;AAAA;AAAA,WAAO,UAAU,CAAC;AAAA;AAAA;;;ACAlB,mBAAkB;AAClB,sBAA0C;AAsD1B;AAhBhB,SAAS,QAAQ;AACb,QAAM,OAAO,cAAc;AAC3B,QAAM,aAAa,cAAc;AAEjC,YAAU,MAAM;AACZ,QAAI,MAAM,OAAO;AACb,YAAM,QAAQ,SAAS,eAAe,OAAO;AAC7C,YAAM,cAAc,KAAK;AACzB,WAAK,UAAU,IAAI,MAAM;AACzB,iBAAW,MAAM,MAAM,UAAU,OAAO,MAAM,GAAG,GAAI;AAAA,IACzD;AAAA,EACJ,GAAG,CAAC,IAAI,CAAC;AAET,SACI,mDAAC,SAAI,WAAU,qEACX,6DAAC,SAAI,WAAU,2CACX;AAAA,uDAAC,SAAI,KAAI,yBAAwB,KAAI,aAAY,OAAM,WAAvD;AAAA;AAAA;AAAA;AAAA,WAA+D;AAAA,IAC/D,mDAAC,SAAI,WAAU,oDAAmD;AAAA;AAAA,MAE9D,mDAAC,SAAI,KAAI,yBAAwB,KAAI,YAAW,OAAM,UAAtD;AAAA;AAAA;AAAA;AAAA,aAA6D;AAAA,SAFjE;AAAA;AAAA;AAAA;AAAA,WAGA;AAAA,OALJ;AAAA;AAAA;AAAA;AAAA,SAMA,KAPJ;AAAA;AAAA;AAAA;AAAA,SAQA;AAER;AAEA,IAAO,gBAAQ;",
  "names": []
}
