{
  "version": 3,
  "sources": ["empty-module:../../sessions.server", "../../../app/routes/login/index.jsx"],
  "sourcesContent": ["module.exports = {};", "import React, { useEffect } from 'react'\nimport { commitSession, getSession } from '../../sessions.server';\nimport { Form, useActionData, useNavigationType } from '@remix-run/react';\nimport { redirect } from '@remix-run/node';\n\n// Loader - redirect if already logged in\nexport async function loader({ request }) {\n    const session = await getSession(request);\n    const user = session.get(\"user\");\n    if (user) return redirect(\"/dashboard\");\n    return null;\n}\n\n// Action - handle login form submission\nexport async function action({ request }) {\n    const formData = await request.formData();\n    const username = formData.get(\"username\");\n    const password = formData.get(\"password\");\n\n    try {\n        const user = await fetchUserData(username);\n\n        // Compare passwords (plain for now)\n        if (user.password !== password) {\n            return { error: \"Invalid username or password\" };\n        }\n\n        // Create session\n        const session = await getSession(request);\n        session.set(\"user\", { id: user.id, name: user.name, username });\n\n        return redirect(\"/dashboard\", {\n            headers: {\n                \"Set-Cookie\": await commitSession(session),\n            },\n        });\n    } catch (err) {\n        return { error: err.message || \"Something went wrong\" };\n    }\n}\n\nfunction Login() {\n    const data = useActionData();\n    const navigation = useNavigationType();\n\n    useEffect(() => {\n        if (data?.error) {\n            const toast = document.getElementById(\"toast\");\n            toast.textContent = data.error;\n            toast.classList.add(\"show\");\n            setTimeout(() => toast.classList.remove(\"show\"), 3000);\n        }\n    }, [data]);\n\n    return (\n        <div className='flex h-full items-center justify-center max-w-[600px] mx-auto p-6'>\n            <div className='flex flex-col items-center gap-6 w-full'>\n                <img src='/images/sous-chef.svg' alt='sous-logo' width=\"100px\" />\n                <div className=\"flex justify-between items-center gap-x-4 w-full\">\n                    Login Account\n                    <img src=\"/images/iss_logo.webp\" alt=\"iss-logo\" width=\"60px\" />\n                </div>\n                <Form method=\"post\" className=\"flex flex-col gap-3 w-64\">\n                    <input\n                        type=\"text\"\n                        name=\"username\"\n                        placeholder=\"Username\"\n                        className=\"border p-2 rounded\"\n                        required\n                    />\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\"Password\"\n                        className=\"border p-2 rounded\"\n                        required\n                    />\n                    <button\n                        type=\"submit\"\n                        className=\"bg-blue-600 text-white p-2 rounded\"\n                        disabled={navigation.state === \"submitting\"}\n                    >\n                        {navigation.state === \"submitting\" ? \"Logging in...\" : \"Login\"}\n                    </button>\n                </Form>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Login\n"],
  "mappings": ";;;;;;;;;;;AAAA;AAAA;AAAA,WAAO,UAAU,CAAC;AAAA;AAAA;;;ACAlB,mBAAiC;AACjC,sBAA0C;AAwD1B;AAhBhB,SAAS,QAAQ;AACb,QAAM,OAAO,cAAc;AAC3B,QAAM,aAAa,kBAAkB;AAErC,8BAAU,MAAM;AACZ,QAAI,MAAM,OAAO;AACb,YAAM,QAAQ,SAAS,eAAe,OAAO;AAC7C,YAAM,cAAc,KAAK;AACzB,YAAM,UAAU,IAAI,MAAM;AAC1B,iBAAW,MAAM,MAAM,UAAU,OAAO,MAAM,GAAG,GAAI;AAAA,IACzD;AAAA,EACJ,GAAG,CAAC,IAAI,CAAC;AAET,SACI,mDAAC,SAAI,WAAU,qEACX,6DAAC,SAAI,WAAU,2CACX;AAAA,uDAAC,SAAI,KAAI,yBAAwB,KAAI,aAAY,OAAM,WAAvD;AAAA;AAAA;AAAA;AAAA,WAA+D;AAAA,IAC/D,mDAAC,SAAI,WAAU,oDAAmD;AAAA;AAAA,MAE9D,mDAAC,SAAI,KAAI,yBAAwB,KAAI,YAAW,OAAM,UAAtD;AAAA;AAAA;AAAA;AAAA,aAA6D;AAAA,SAFjE;AAAA;AAAA;AAAA;AAAA,WAGA;AAAA,IACA,mDAAC,QAAK,QAAO,QAAO,WAAU,4BAC1B;AAAA;AAAA,QAAC;AAAA;AAAA,UACG,MAAK;AAAA,UACL,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,WAAU;AAAA,UACV,UAAQ;AAAA;AAAA,QALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACG,MAAK;AAAA,UACL,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,WAAU;AAAA,UACV,UAAQ;AAAA;AAAA,QALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACG,MAAK;AAAA,UACL,WAAU;AAAA,UACV,UAAU,WAAW,UAAU;AAAA,UAE9B,qBAAW,UAAU,eAAe,kBAAkB;AAAA;AAAA,QAL3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,SArBJ;AAAA;AAAA;AAAA;AAAA,WAsBA;AAAA,OA5BJ;AAAA;AAAA;AAAA;AAAA,SA8BA,KA/BJ;AAAA;AAAA;AAAA;AAAA,SAgCA;AAER;AAEA,IAAO,gBAAQ;",
  "names": []
}
