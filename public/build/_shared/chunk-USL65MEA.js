import{c as U}from"/build/_shared/chunk-RGLHNRFR.js";import{b as y}from"/build/_shared/chunk-YCQR2KKZ.js";import{e as R,f as T,g as z}from"/build/_shared/chunk-74WNBD7U.js";import{a as P,b as f}from"/build/_shared/chunk-TYFUAS6F.js";import{d as n}from"/build/_shared/chunk-W6WK5VNR.js";var q=n(P());var r=n(P()),_=n(U());var $="/build/_assets/closeIcon-XU4IO7EI.png";var e=n(f()),K=2e6;function v({isOpen:d,setIsOpen:p}){let[a,N]=(0,r.useState)(""),[u,w]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[x,E]=(0,r.useState)(""),[t,A]=(0,r.useState)(),[Y,H]=(0,r.useState)(""),L=r.default.useRef(null),[F,b]=(0,r.useState)(!1),g=()=>{w(""),N(""),k(""),E(""),A(""),p(!1)},W=async l=>new Promise((h,c)=>{var i=new FileReader;i.readAsDataURL(l);var m;return i.onload=()=>{m=h(i.result)},i.onerror=c,H(m),m}),s=l=>{y.error(l,{onClose:()=>b(!1)})},O=async()=>{var c,i,m,j,M,I,C;if(b(!0),!u)s("Name is required field");else if(!a)s("Email is required field");else if(!/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(a))s("Enter a valid email address");else if(!x)s("Message is required field");else if(((c=t==null?void 0:t.target)==null?void 0:c.files[0].name.length)>0&&!/.*\.(?:jpg|png|pdf|doc|docx)$/.test((i=t==null?void 0:t.target)==null?void 0:i.files[0].name))s("Upload a valid file format");else if(((m=t==null?void 0:t.target)==null?void 0:m.files[0].size)>K)s("Please upload file less than 2MB.");else{var l=(j=t==null?void 0:t.target)!=null&&j.files?await W((M=t==null?void 0:t.target)==null?void 0:M.files[0]):"",h={from:z,to:T,subject:"Support Email",html:`
                    <div>
                        <p>Hi</p>
                        <p><strong>Name:</strong> ${u}.</p>
                        <p><strong>Email:</strong> ${a}.</p>
                        <p><strong>Title: </strong> ${S}.</p>
                        <p><strong>Message: </strong> ${x}.</p>
                    <div>
                `,attachments:l?[{filename:(C=(I=t==null?void 0:t.target)==null?void 0:I.files[0])==null?void 0:C.name,path:l}]:[]};await fetch(R,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(h)}).then(D=>{y.success("Support form submitted successfully",{onClose:()=>b(!1)}),g()}).catch(D=>{console.log("error",D),s("Something went wrong")})}};return(0,e.jsx)("div",{className:"w-100,h-100",children:(0,e.jsx)(_.default,{isOpen:d,onRequestClose:g,ariaHideApp:!1,contentLabel:"Banner Preview",className:"support-form",children:(0,e.jsxs)("div",{className:"bg-[#FAFAFA] rounded-[10px] shadow-lg px-6 py-12 relative lg:px-9 station-preview",children:[(0,e.jsx)("div",{className:"close-div",children:(0,e.jsxs)("button",{onClick:g,className:"float-right",children:[(0,e.jsx)("img",{src:$,alt:"close-icon"})," "]})}),(0,e.jsx)("div",{className:"flex justify-center items-center px-5 py-[30px]",children:(0,e.jsxs)("div",{className:"max-w-[400px] w-full flex flex-col items-center text-[14px] ",children:[(0,e.jsx)("h1",{className:"text-center text-[24px] font-bold text-primary mb-5",children:"Support Form"}),(0,e.jsxs)("div",{className:"mb-2 w-full",children:[(0,e.jsx)("label",{htmlFor:"u-mail-id1",className:"block text-sm font-bold text-primary",children:"Name"}),(0,e.jsx)("input",{type:"text",id:"u-name-id1",name:"name",placeholder:"Name",value:u,onChange:l=>w(l.target.value),required:!0,className:"mt-2 w-full px-4 py-3 flex justify-center items-center text-black shadow-sm border border-primary focus:border-primary placeholder:font-bold placeholder:text-[#6E7878] placeholder:text-[14px] focus:outline-none focus:ring-1 focus:ring-primary sm:text-sm"})]}),(0,e.jsxs)("div",{className:"mb-2 w-full",children:[(0,e.jsx)("label",{htmlFor:"u-mail-id1",className:"block text-sm font-bold text-primary",children:"Email"}),(0,e.jsx)("input",{type:"email",id:"u-mail-id1",name:"email",placeholder:"Your@email.dk",value:a,onChange:l=>N(l.target.value),required:!0,className:"mt-2 w-full px-4 py-3 flex justify-center items-center text-black shadow-sm border border-primary focus:border-primary placeholder:font-bold placeholder:text-[#6E7878] placeholder:text-[14px] focus:outline-none focus:ring-1 focus:ring-primary sm:text-sm"})]}),(0,e.jsxs)("div",{className:"mb-2 w-full",children:[(0,e.jsx)("label",{htmlFor:"u-mail-id1",className:"block text-sm font-bold text-primary",children:"Title"}),(0,e.jsx)("input",{type:"text",id:"u-title-id1",name:"title",placeholder:"Share the title",value:S,onChange:l=>k(l.target.value),className:"mt-2 w-full px-4 py-3 flex justify-center items-center text-black shadow-sm border border-primary focus:border-primary placeholder:font-bold placeholder:text-[#6E7878] placeholder:text-[14px] focus:outline-none focus:ring-1 focus:ring-primary sm:text-sm"})]}),(0,e.jsxs)("div",{className:"mb-2 w-full",children:[(0,e.jsx)("label",{htmlFor:"u-mail-id1",className:"block text-sm font-bold text-primary",children:"Message"}),(0,e.jsx)("textarea",{type:"text",id:"u-title-id1",name:"title",placeholder:"Share the message",value:x,onChange:l=>E(l.target.value),required:!0,className:"mt-2 w-full px-4 py-3 flex justify-center items-center text-black shadow-sm border border-primary focus:border-primary placeholder:font-bold placeholder:text-[#6E7878] placeholder:text-[14px] focus:outline-none focus:ring-1 focus:ring-primary sm:text-sm"})]}),(0,e.jsxs)("div",{className:"mb-2 w-full",children:[(0,e.jsx)("label",{htmlFor:"u-mail-id1",className:"block text-sm font-bold text-primary",children:"Attachments"}),(0,e.jsx)("input",{type:"file",id:"u-attachment-id1",name:"title",placeholder:"Share the title",accept:".png,.jpg,.pdf,.docx,.doc",onChange:l=>A(l),className:"mt-2 w-full px-4 py-3 flex justify-center items-center text-black shadow-sm border border-primary focus:border-primary placeholder:font-bold placeholder:text-[#6E7878] placeholder:text-[14px] focus:outline-none focus:ring-1 focus:ring-primary sm:text-sm"}),(0,e.jsx)("span",{className:"red-text text-xs",children:"*Upload file must be .png,.jpg,.pdf,.docx and .doc less than 2MB "})]}),(0,e.jsx)("div",{className:"mt-6 w-full",children:(0,e.jsx)("button",{type:"submit",ref:L,disabled:F,onClick:()=>F?null:O(),className:"inline-flex w-full items-center justify-center h-[50px] text-[18px] rounded border bg-primary border-primary px-4 py-2 text-sm font-bold text-white shadow-sm hover:bg-primary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:"Submit"})})]})})]})})})}var o=n(f());function B(d){let[p,a]=(0,q.useState)(!1);return(0,o.jsx)(o.Fragment,{children:d!=null&&d.login?null:(0,o.jsxs)("footer",{className:"bg-white mt-2 flex justify-center items-center shadow-md px-3 md:px-5 py-4 lg:px-10 w-[100%]",children:[(0,o.jsxs)("div",{className:"text-sm text-center text-black",children:["Need support ? Click ",(0,o.jsx)("a",{className:"text-primary cursor-pointer font-semibold",onClick:()=>a(!p),children:"here"})]}),(0,o.jsx)(v,{isOpen:p,setIsOpen:a})]})})}export{$ as a,B as b};
