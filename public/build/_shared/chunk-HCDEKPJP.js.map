{
  "version": 3,
  "sources": ["../../../app/routes/login/index.jsx", "../../../node_modules/react-toastify/node_modules/clsx/dist/clsx.m.js"],
  "sourcesContent": ["import { json, redirect } from \"@remix-run/node\";\nimport { Form, useActionData, useTransition } from \"@remix-run/react\";\n// import toast, { Toaster } from \"react-hot-toast\";\nimport { useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\n\n// \uD83D\uDD39 Send login request to your external API\nasync function loginToExternalApi({ email, password }) {\n    const response = await fetch(\"http://192.168.1.51:8056/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n    });\n\n    if (!response.ok) {\n        const err = await response.text();\n        throw new Error(`Login failed: ${err}`);\n    }\n\n    return await response.json();\n}\n\n// \uD83D\uDD39 Remix Action \u2014 handles POST (form submission)\nexport async function action({ request }) {\n    const formData = await request.formData();\n    const email = formData.get(\"email\");\n    const password = formData.get(\"password\");\n\n    if (!email || !password) {\n        return json({ error: \"Email and password required\" }, { status: 400 });\n    }\n\n    try {\n        const result = await loginToExternalApi({ email, password });\n\n        // (Optional) Store token temporarily in session logic later\n        console.log(\"\u2705 API Login Success:\", result);\n\n        // Return success message to frontend\n        return redirect(\"/dashboard?success=1\");\n    } catch (error) {\n        console.error(\"\u274C Login error:\", error);\n        return json({ error: \"Invalid email or password\" }, { status: 401 });\n    }\n}\n\n// \uD83D\uDD39 UI\nexport default function LoginPage() {\n    const actionData = useActionData();\n    const transistion = useTransition()\n\n    useEffect(() => {\n        if (actionData?.error) {\n            toast.error(actionData.error);\n        }\n    }, [actionData]);\n\n    // \u2705 If redirected with ?success=1, show toast\n    useEffect(() => {\n        const params = new URLSearchParams(window.location.search);\n        if (params.get(\"success\")) {\n            toast.success(\"Login successful!\");\n            // optional: remove param so toast won\u2019t repeat on refresh\n            window.history.replaceState({}, \"\", \"/dashboard\");\n        }\n    }, []);\n\n    return (\n        <div className=\"flex flex-col items-center justify-center min-h-screen gap-4\">\n            <ToastContainer position=\"top-right\" />\n            <h2 className=\"text-2xl font-bold\">Login</h2>\n\n            <Form method=\"post\" className=\"flex flex-col gap-2 w-64\">\n                <input\n                    name=\"email\"\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    required\n                    className=\"border p-2 rounded\"\n                />\n                <input\n                    name=\"password\"\n                    type=\"password\"\n                    placeholder=\"Password\"\n                    required\n                    className=\"border p-2 rounded\"\n                />\n                <button\n                    type=\"submit\"\n                    className=\"bg-blue-600 text-white py-2 rounded\"\n                    disabled={navigation.state === \"submitting\"}\n                >\n                    {navigation.state === \"submitting\" ? \"Logging in...\" : \"Login\"}\n                </button>\n            </Form>\n        </div>\n    );\n}\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;"],
  "mappings": ";;;;;;;;;;;;AAGA,IAAAA,gBAA0B;;;;;;ACH1B,SAAS,EAAEC,IAAE;AAAC,MAAIC,IAAEC,IAAEC,KAAE;AAAG,MAAG,YAAU,OAAOH,MAAG,YAAU,OAAOA;AAAE,IAAAG,MAAGH;AAAA,WAAU,YAAU,OAAOA;AAAE,QAAG,MAAM,QAAQA,EAAC;AAAE,WAAIC,KAAE,GAAEA,KAAED,GAAE,QAAOC;AAAI,QAAAD,GAAEC,QAAKC,KAAE,EAAEF,GAAEC,GAAE,OAAKE,OAAIA,MAAG,MAAKA,MAAGD;AAAA;AAAQ,WAAID,MAAKD;AAAE,QAAAA,GAAEC,QAAKE,OAAIA,MAAG,MAAKA,MAAGF;AAAG,SAAOE;AAAC;AAAQ,SAAS,OAAM;AAAC,WAAQH,IAAEC,IAAEC,KAAE,GAAEC,KAAE,IAAGD,KAAE,UAAU;AAAQ,KAACF,KAAE,UAAUE,WAAQD,KAAE,EAAED,EAAC,OAAKG,OAAIA,MAAG,MAAKA,MAAGF;AAAG,SAAOE;AAAC;AAAC,IAAO,iBAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ADqErW;AAtBG,SAAR,YAA6B;AAChC,QAAM,aAAa,cAAc;AACjC,QAAM,cAAc,cAAc;AAElC,+BAAU,MAAM;AACZ,QAAI,YAAY,OAAO;AACnB,YAAM,MAAM,WAAW,KAAK;AAAA,IAChC;AAAA,EACJ,GAAG,CAAC,UAAU,CAAC;AAGf,+BAAU,MAAM;AACZ,UAAM,SAAS,IAAI,gBAAgB,OAAO,SAAS,MAAM;AACzD,QAAI,OAAO,IAAI,SAAS,GAAG;AACvB,YAAM,QAAQ,mBAAmB;AAEjC,aAAO,QAAQ,aAAa,CAAC,GAAG,IAAI,YAAY;AAAA,IACpD;AAAA,EACJ,GAAG,CAAC,CAAC;AAEL,SACI,mDAAC,SAAI,WAAU,gEACX;AAAA,uDAAC,KAAe,UAAS,eAAzB;AAAA;AAAA;AAAA;AAAA,WAAqC;AAAA,IACrC,mDAAC,QAAG,WAAU,sBAAqB,qBAAnC;AAAA;AAAA;AAAA;AAAA,WAAwC;AAAA,IAExC,mDAAC,QAAK,QAAO,QAAO,WAAU,4BAC1B;AAAA;AAAA,QAAC;AAAA;AAAA,UACG,MAAK;AAAA,UACL,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,UAAQ;AAAA,UACR,WAAU;AAAA;AAAA,QALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACG,MAAK;AAAA,UACL,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,UAAQ;AAAA,UACR,WAAU;AAAA;AAAA,QALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACG,MAAK;AAAA,UACL,WAAU;AAAA,UACV,UAAU,WAAW,UAAU;AAAA,UAE9B,qBAAW,UAAU,eAAe,kBAAkB;AAAA;AAAA,QAL3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,SArBJ;AAAA;AAAA;AAAA;AAAA,WAsBA;AAAA,OA1BJ;AAAA;AAAA;AAAA;AAAA,SA2BA;AAER;",
  "names": ["import_react", "e", "t", "f", "n"]
}
